{"last_node_id":98,"last_link_id":274,"nodes":[{"id":74,"type":"SaveImage","pos":[597.5556403266057,745.1109144422742],"size":{"0":315,"1":270},"flags":{},"order":26,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":219}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":86,"type":"Gemini_API_S_Zho","pos":[80,1260],"size":{"0":430,"1":180},"flags":{},"order":13,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":240,"slot_index":0,"label":"image"}],"outputs":[{"name":"text","type":"STRING","links":[239],"shape":3,"slot_index":0,"label":"text"}],"properties":{"Node name for S&R":"Gemini_API_S_Zho"},"widgets_values":["text = ' ' # @param {type:\"string\"}\n\nprompt = \"Describe the gender, age, hairstyle, hair color and eye color of the person in the photo, then put description into text, keep it under 50 tokens. Describe only facial features, not clothing.\" % text","gemini-pro-vision",false],"color":"#323","bgcolor":"#535"},{"id":87,"type":"LoadImage","pos":[-270,1270],"size":{"0":315,"1":314.0000305175781},"flags":{},"order":0,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[240,242],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"face","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1 (2).jpg","image"]},{"id":85,"type":"DisplayText_Zho","pos":[530,1260],"size":{"0":220.29322814941406,"1":94.57110595703125},"flags":{},"order":19,"mode":4,"inputs":[{"name":"text","type":"STRING","link":239,"widget":{"name":"text"}}],"outputs":[{"name":"text","type":"STRING","links":[241],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DisplayText_Zho"},"widgets_values":["","A photo of a woman with long, wavy, ginger hair. She has light skin and green eyes. She is wearing a white dress. She is in her early 40s."]},{"id":78,"type":"CR Seed","pos":[1343.8689137468443,1388.3735141946809],"size":{"0":315,"1":102},"flags":{},"order":1,"mode":0,"outputs":[{"name":"seed","type":"INT","links":[228,273],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Seed"},"widgets_values":[305561270348159,"randomize"]},{"id":81,"type":"PreviewImage","pos":[2033.8689137468434,1158.3735141946809],"size":{"0":347.9818115234375,"1":377.7113952636719},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":232}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":63,"type":"CR Text Concatenate","pos":[1343.8689137468443,1108.3735141946809],"size":{"0":310.2642517089844,"1":78},"flags":{},"order":20,"mode":0,"inputs":[{"name":"text1","type":"STRING","link":244,"widget":{"name":"text1"}},{"name":"text2","type":"STRING","link":210,"widget":{"name":"text2"}}],"outputs":[{"name":"STRING","type":"*","links":[205],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Text Concatenate"},"widgets_values":["","",""]},{"id":90,"type":"Reroute","pos":[1228.8689137468443,1042.373514194681],"size":[75,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":243,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[244],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":88,"type":"Reroute","pos":[1228.8689137468443,1073.3735141946809],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":241}],"outputs":[{"name":"","type":"STRING","links":null,"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":60,"type":"VAELoader","pos":[-347,259],"size":{"0":413.6593933105469,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[198,218,231],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["sdxl_vae_madebyollin.safetensors"]},{"id":67,"type":"SaveImage","pos":[2426.121275005918,241.84852068351978],"size":{"0":584.20166015625,"1":622.5325927734375},"flags":{},"order":34,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":207}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":73,"type":"VAEDecode","pos":[608,635],"size":{"0":210,"1":46},"flags":{},"order":24,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":217},{"name":"vae","type":"VAE","link":218}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[219,245],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":89,"type":"Reroute","pos":[1295,352],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":242}],"outputs":[{"name":"","type":"IMAGE","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":5,"type":"EmptyLatentImage","pos":[-118,1005],"size":{"0":315,"1":106},"flags":{},"order":3,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[216],"slot_index":0}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1024,1]},{"id":79,"type":"EmptyLatentImage","pos":[1343.8689137468443,1238.3735141946809],"size":{"0":315,"1":106},"flags":{},"order":4,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[229,272],"slot_index":0}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[896,1152,1]},{"id":69,"type":"DPMagicPrompt","pos":[1093.8689137468443,1158.3735141946809],"size":{"0":225.8343048095703,"1":212.87875366210938},"flags":{},"order":5,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[210],"shape":3,"slot_index":0,"label":"字符串"}],"properties":{"Node name for S&R":"DPMagicPrompt"},"widgets_values":["RAW picture, (motion blur:1.8), out of focus, dynamics pose, bokeh, UHD, high details, best quality, anatomically correct, (full body portrait:1.5)",552,"randomize","Yes"],"color":"#232","bgcolor":"#353"},{"id":11,"type":"InstantIDModelLoader","pos":[1134,243],"size":{"0":238.72393798828125,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[249],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InstantIDModelLoader"},"widgets_values":["ip-adapter.bin"]},{"id":16,"type":"ControlNetLoader","pos":[1116,636],"size":{"0":258.411376953125,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[251],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["instantid\\diffusion_pytorch_model.safetensors"]},{"id":91,"type":"Reroute","pos":[1294,313],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":245}],"outputs":[{"name":"","type":"IMAGE","links":[252],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":84,"type":"CLIPTextEncode","pos":[-23,619],"size":{"0":210,"1":54},"flags":{},"order":18,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":236,"slot_index":0},{"name":"text","type":"STRING","link":235,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[237],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["portrait photography, exquisite detail, intricately-detailed, high-contrast, high-sharpness, award-winning photography"]},{"id":83,"type":"CR Prompt Text","pos":[-332,615],"size":{"0":239.45352172851562,"1":148.75970458984375},"flags":{},"order":8,"mode":0,"outputs":[{"name":"prompt","type":"STRING","links":[235,243],"shape":3,"slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3}],"properties":{"Node name for S&R":"CR Prompt Text"},"widgets_values":["Influencer, ((Photo Focus, DOF, Aperture, insanely detailed and intricate, character, hypermaximalist, elegant, ornate, beautiful, exotic, revealing, appealing, attractive, amative, hyper realistic, super detailed, (lens flare:1.1),"]},{"id":39,"type":"CLIPTextEncode","pos":[1151,527],"size":{"0":216.4537811279297,"1":54},"flags":{},"order":23,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":122},{"name":"text","type":"STRING","link":205,"widget":{"name":"text"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[222,254],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["portrait photography, exquisite detail, intricately-detailed, high-contrast, high-sharpness, award-winning photography"]},{"id":72,"type":"CLIPTextEncode","pos":[-26,715],"size":{"0":210,"1":248.07672119140625},"flags":{},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":213,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[215,225,255],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(worst quality, low quality, normal quality, lowres, low details, oversaturated, undersaturated, overexposed, underexposed, grayscale, b&w, bad photo, bad photography, bad art:1.4), (watermark, signature, text font, username, error, logo, words, letters, digits, autograph, trademark, water mark, name:1.2), (blur, blurry, grainy), morbid, ugly, asymmetrical, mutated malformed, mutilated, poorly lit, bad shadow, draft, cropped, out of frame, cut off, censored, jpeg artifacts, out of focus, glitch, duplicate, (airbrushed, cartoon, anime, semi-realistic, cgi, render, blender, digital art, manga, amateur:1.3), (3D ,3D Game, 3D Game Scene, 3D Character:1.1), (bad hands, bad anatomy, bad body, bad face, bad teeth, bad arms, bad legs, deformities:1.3), long neck"]},{"id":80,"type":"VAEDecode","pos":[2034,1068],"size":{"0":210,"1":46},"flags":{},"order":28,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":230},{"name":"vae","type":"VAE","link":231}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[232,256],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":38,"type":"InstantIDFaceAnalysis","pos":[1146,422],"size":{"0":227.09793090820312,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[250],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis"},"widgets_values":["CPU"]},{"id":70,"type":"KSampler","pos":[247.55564032660607,635.1109144422742],"size":{"0":320,"1":474},"flags":{},"order":21,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":263},{"name":"positive","type":"CONDITIONING","link":237},{"name":"negative","type":"CONDITIONING","link":215},{"name":"latent_image","type":"LATENT","link":216}],"outputs":[{"name":"LATENT","type":"LATENT","links":[217],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[376256385015627,"fixed",20,7,"dpmpp_2m","karras",1]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-348,119],"size":{"0":413.85772705078125,"1":98},"flags":{},"order":10,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[253,262],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[122,213,236],"slot_index":1},{"name":"VAE","type":"VAE","links":[],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["juggernautXL_v8Rundiffusion.safetensors"]},{"id":92,"type":"ApplyInstantID","pos":[1464,309],"size":{"0":315,"1":266},"flags":{},"order":30,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":249},{"name":"insightface","type":"FACEANALYSIS","link":250},{"name":"control_net","type":"CONTROL_NET","link":251},{"name":"image","type":"IMAGE","link":252},{"name":"model","type":"MODEL","link":253},{"name":"positive","type":"CONDITIONING","link":254},{"name":"negative","type":"CONDITIONING","link":255},{"name":"image_kps","type":"IMAGE","link":256},{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[264],"shape":3,"slot_index":0},{"name":"POSITIVE","type":"CONDITIONING","links":[270],"shape":3,"slot_index":1},{"name":"NEGATIVE","type":"CONDITIONING","links":[271],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"ApplyInstantID"},"widgets_values":[1,0,0.9]},{"id":93,"type":"Automatic CFG","pos":[90,120],"size":{"0":210,"1":60},"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":262}],"outputs":[{"name":"MODEL","type":"MODEL","links":[263,266],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Automatic CFG"},"widgets_values":[true]},{"id":75,"type":"KSampler","pos":[1683.8689137468443,1068.373514194681],"size":{"0":320,"1":474},"flags":{},"order":25,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":266},{"name":"positive","type":"CONDITIONING","link":222},{"name":"negative","type":"CONDITIONING","link":225},{"name":"latent_image","type":"LATENT","link":229},{"name":"seed","type":"INT","link":228,"widget":{"name":"seed"},"slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[230],"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[376256385015627,"fixed",15,7,"dpmpp_2m","karras",1]},{"id":94,"type":"Automatic CFG","pos":[1800,310],"size":{"0":210,"1":60},"flags":{},"order":31,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":264}],"outputs":[{"name":"MODEL","type":"MODEL","links":[269],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Automatic CFG"},"widgets_values":[true]},{"id":8,"type":"VAEDecode","pos":[2150,790],"size":{"0":210,"1":46},"flags":{},"order":33,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":274},{"name":"vae","type":"VAE","link":198,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[207],"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":97,"type":"SamplerCustom","pos":[2030,300],"size":[360,440],"flags":{},"order":32,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":269,"label":"模型","slot_index":0},{"name":"positive","type":"CONDITIONING","link":270,"label":"正面条件","slot_index":1},{"name":"negative","type":"CONDITIONING","link":271,"label":"负面条件","slot_index":2},{"name":"sampler","type":"SAMPLER","link":267,"label":"采样器","slot_index":3},{"name":"sigmas","type":"SIGMAS","link":268,"label":"Sigmas"},{"name":"latent_image","type":"LATENT","link":272,"label":"Latent","slot_index":5},{"name":"noise_seed","type":"INT","link":273,"widget":{"name":"noise_seed"}}],"outputs":[{"name":"output","type":"LATENT","links":[274],"shape":3,"label":"输出","slot_index":0},{"name":"denoised_output","type":"LATENT","links":null,"shape":3,"label":"降噪输出"}],"properties":{"Node name for S&R":"SamplerCustom"},"widgets_values":[true,938400134301464,"randomize",4]},{"id":96,"type":"AlignYourStepsScheduler","pos":[1800,530],"size":[210,110],"flags":{},"order":11,"mode":0,"outputs":[{"name":"SIGMAS","type":"SIGMAS","links":[268],"shape":3,"label":"SIGMAS","slot_index":0}],"properties":{"Node name for S&R":"AlignYourStepsScheduler"},"widgets_values":["SDXL",10,1]},{"id":98,"type":"KSamplerSelect","pos":[1800,420],"size":[210,60],"flags":{},"order":12,"mode":0,"outputs":[{"name":"SAMPLER","type":"SAMPLER","links":[267],"shape":3,"label":"采样器"}],"properties":{"Node name for S&R":"KSamplerSelect"},"widgets_values":["dpmpp_2m"]}],"links":[[122,4,1,39,0,"CLIP"],[198,60,0,8,1,"VAE"],[205,63,0,39,1,"STRING"],[207,8,0,67,0,"IMAGE"],[210,69,0,63,1,"STRING"],[213,4,1,72,0,"CLIP"],[215,72,0,70,2,"CONDITIONING"],[216,5,0,70,3,"LATENT"],[217,70,0,73,0,"LATENT"],[218,60,0,73,1,"VAE"],[219,73,0,74,0,"IMAGE"],[222,39,0,75,1,"CONDITIONING"],[225,72,0,75,2,"CONDITIONING"],[228,78,0,75,4,"INT"],[229,79,0,75,3,"LATENT"],[230,75,0,80,0,"LATENT"],[231,60,0,80,1,"VAE"],[232,80,0,81,0,"IMAGE"],[235,83,0,84,1,"STRING"],[236,4,1,84,0,"CLIP"],[237,84,0,70,1,"CONDITIONING"],[239,86,0,85,0,"STRING"],[240,87,0,86,0,"IMAGE"],[241,85,0,88,0,"*"],[242,87,0,89,0,"*"],[243,83,0,90,0,"*"],[244,90,0,63,0,"STRING"],[245,73,0,91,0,"*"],[249,11,0,92,0,"INSTANTID"],[250,38,0,92,1,"FACEANALYSIS"],[251,16,0,92,2,"CONTROL_NET"],[252,91,0,92,3,"IMAGE"],[253,4,0,92,4,"MODEL"],[254,39,0,92,5,"CONDITIONING"],[255,72,0,92,6,"CONDITIONING"],[256,80,0,92,7,"IMAGE"],[262,4,0,93,0,"MODEL"],[263,93,0,70,0,"MODEL"],[264,92,0,94,0,"MODEL"],[266,93,0,75,0,"MODEL"],[267,98,0,97,3,"SAMPLER"],[268,96,0,97,4,"SIGMAS"],[269,94,0,97,0,"MODEL"],[270,92,1,97,1,"CONDITIONING"],[271,92,2,97,2,"CONDITIONING"],[272,79,0,97,5,"LATENT"],[273,78,0,97,6,"INT"],[274,97,0,8,0,"LATENT"]],"groups":[{"title":"Create a fake face","bounding":[-356,523,1292,611],"color":"#3f789e","font_size":24,"locked":false},{"title":"Upload a face","bounding":[-357,1159,1291,478],"color":"#3f789e","font_size":24,"locked":false},{"title":"Create a scene","bounding":[1064,982,1346,586],"color":"#3f789e","font_size":24,"locked":false},{"title":"Fake influencer","bounding":[1067,144,1973,757],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4,"widget_idx_map":{"69":{"seed":1},"70":{"seed":0,"sampler_name":4,"scheduler":5},"75":{"sampler_name":4,"scheduler":5},"78":{"seed":0},"98":{"sampler_name":0}},"seed_widgets":{"69":1,"70":0,"78":0}}