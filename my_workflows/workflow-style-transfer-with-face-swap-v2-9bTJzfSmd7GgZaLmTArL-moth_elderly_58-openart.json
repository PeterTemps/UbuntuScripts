{"last_node_id":951,"last_link_id":2122,"nodes":[{"id":5,"type":"EmptyLatentImage","pos":[1030,-710],"size":{"0":315,"1":106},"flags":{},"order":48,"mode":0,"inputs":[{"name":"width","type":"INT","link":62,"widget":{"name":"width"}},{"name":"height","type":"INT","link":63,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1342],"slot_index":0}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[1024,1280,1]},{"id":651,"type":"Reroute","pos":[1522,-10],"size":[75,26],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":2120}],"outputs":[{"name":"","type":"MODEL","links":[1549,1721,2094],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":65,"type":"IPAdapterNoise","pos":[860,-100],"size":{"0":315,"1":106},"flags":{},"order":40,"mode":0,"inputs":[{"name":"image_optional","type":"IMAGE","link":1307}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[173,922],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterNoise"},"widgets_values":["shuffle",0.5,0]},{"id":877,"type":"ImageUpscaleWithModel","pos":[4970,530],"size":{"0":241.79998779296875,"1":46},"flags":{},"order":105,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":1990,"slot_index":0},{"name":"image","type":"IMAGE","link":2079}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1991],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":900,"type":"UltralyticsDetectorProvider","pos":[4425,-811],"size":{"0":315,"1":78},"flags":{},"order":0,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[2060],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"]},{"id":879,"type":"ImageScaleBy","pos":[5225,524],"size":{"0":315,"1":82},"flags":{},"order":110,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1991}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2041,2043],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["lanczos",0.5]},{"id":894,"type":"VAEEncode","pos":[5885,529],"size":{"0":210,"1":46},"flags":{},"order":112,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":2043},{"name":"vae","type":"VAE","link":2042}],"outputs":[{"name":"LATENT","type":"LATENT","links":[2048],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":896,"type":"VAEDecode","pos":[6445,477],"size":{"0":210,"1":46},"flags":{},"order":114,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":2050},{"name":"vae","type":"VAE","link":2049}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2052],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":893,"type":"PreviewImage","pos":[5236,645],"size":{"0":210,"1":246},"flags":{},"order":111,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2041}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":781,"type":"PreviewImage","pos":[2910,-90],"size":{"0":210,"1":250},"flags":{},"order":64,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1733}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":778,"type":"IPAdapterAdvanced","pos":[2190,-170],"size":{"0":315,"1":278},"flags":{},"order":57,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1721},{"name":"ipadapter","type":"IPADAPTER","link":1722},{"name":"image","type":"IMAGE","link":1723},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":1724}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1725],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.8,"style transfer","concat",0,1,"K+V"]},{"id":776,"type":"ControlNetApplyAdvanced","pos":[2190,-380],"size":{"0":315,"1":166},"flags":{},"order":61,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":1719},{"name":"negative","type":"CONDITIONING","link":1720},{"name":"control_net","type":"CONTROL_NET","link":1718,"slot_index":2},{"name":"image","type":"IMAGE","link":1717}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1731],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1732],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1]},{"id":912,"type":"PreviewImage","pos":[3150,-60],"size":{"0":210,"1":246},"flags":{},"order":68,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2090}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":699,"type":"PreviewImage","pos":[3146.47562050675,752.0699825505317],"size":{"0":210,"1":246},"flags":{},"order":71,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1560}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":902,"type":"BboxDetectorSEGS","pos":[4415,-690],"size":{"0":400,"1":212},"flags":{},"order":77,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":2060},{"name":"image","type":"IMAGE","link":2061},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[2062],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BboxDetectorSEGS"},"widgets_values":[0.5,10,3,10,"all"]},{"id":878,"type":"UpscaleModelLoader","pos":[4892,433],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[1990],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x_foolhardy_Remacri.pth"]},{"id":823,"type":"Reroute","pos":[3468,1342],"size":[75,26],"flags":{},"order":73,"mode":0,"inputs":[{"name":"","type":"*","link":2039}],"outputs":[{"name":"","type":"IMAGE","links":[1832,1833,1834,1835,2061],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":574,"type":"Reroute","pos":[1516,502],"size":[75,26],"flags":{},"order":55,"mode":0,"inputs":[{"name":"","type":"*","link":1342}],"outputs":[{"name":"","type":"LATENT","links":[1557,1728],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#323","bgcolor":"#535"},{"id":647,"type":"Reroute","pos":[1530,606],"size":[75,26],"flags":{},"order":58,"mode":0,"inputs":[{"name":"","type":"*","link":1540}],"outputs":[{"name":"","type":"CONDITIONING","links":[1719,1854,2087],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":648,"type":"Reroute","pos":[1528,710],"size":[75,26],"flags":{},"order":59,"mode":0,"inputs":[{"name":"","type":"*","link":1541}],"outputs":[{"name":"","type":"CONDITIONING","links":[1720,1855,2086],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":777,"type":"ControlNetLoader","pos":[2191,-488],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[1718],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["OpenPoseXL2.safetensors"]},{"id":922,"type":"ControlNetLoader","pos":[2225,588],"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[2100],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["depth_sdXL1.safetensors"]},{"id":197,"type":"Reroute","pos":[1521,360],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":464}],"outputs":[{"name":"","type":"VAE","links":[1559,1641,1730,1858,2042,2049,2058],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":753,"type":"PrepImageForClipVision","pos":[2610,2590],"size":{"0":305.6900634765625,"1":106},"flags":{},"order":33,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1664}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1665],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","top",0.3]},{"id":752,"type":"LoadImage","pos":[2620,2230],"size":{"0":315,"1":314.00006103515625},"flags":{},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1664],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2024-05-12 00 11 05 copy.png","image"]},{"id":732,"type":"SetLatentNoiseMask","pos":[3030,2650],"size":{"0":210,"1":46},"flags":{},"order":90,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1841},{"name":"mask","type":"MASK","link":2102}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1639],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":733,"type":"VAEDecode","pos":[3400,2750],"size":{"0":210,"1":46},"flags":{},"order":96,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1642},{"name":"vae","type":"VAE","link":1641}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1643],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":831,"type":"SetLatentNoiseMask","pos":[3050,3300],"size":{"0":210,"1":46},"flags":{},"order":98,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1861},{"name":"mask","type":"MASK","link":1871}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1860],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":910,"type":"ControlNetApplyAdvanced","pos":[2578,556],"size":{"0":315,"1":166},"flags":{},"order":67,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":2087},{"name":"negative","type":"CONDITIONING","link":2086},{"name":"control_net","type":"CONTROL_NET","link":2100,"slot_index":2},{"name":"image","type":"IMAGE","link":2089}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[2085],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[2084],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.3,0,0.4]},{"id":832,"type":"PreviewImage","pos":[3620,3380],"size":{"0":210,"1":246},"flags":{},"order":102,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1863}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":830,"type":"VAEDecode","pos":[3380,3390],"size":{"0":210,"1":46},"flags":{},"order":101,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1857},{"name":"vae","type":"VAE","link":1858}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1863,2054],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":786,"type":"MaskPreview+","pos":[5380,1540],"size":{"0":210,"1":246},"flags":{},"order":81,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1747}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":810,"type":"GetImageSize+","pos":[4590,1870],"size":{"0":186.04432678222656,"1":52.70819091796875},"flags":{},"order":74,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1832}],"outputs":[{"name":"width","type":"INT","links":[1792],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[1793],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"GetImageSize+"}},{"id":761,"type":"UltralyticsDetectorProvider","pos":[4630,1470],"size":{"0":315,"1":78},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[1744],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":797,"type":"SAMModelLoader (segment anything)","pos":[4610,2120],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[1767],"shape":3}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_hq_vit_h (2.57GB)"]},{"id":798,"type":"GroundingDinoModelLoader (segment anything)","pos":[4600,2240],"size":{"0":361.20001220703125,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[1768],"shape":3}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinB (938MB)"]},{"id":796,"type":"GroundingDinoSAMSegment (segment anything)","pos":[5020,2190],"size":{"0":352.79998779296875,"1":122},"flags":{},"order":84,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":1767,"slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":1768,"slot_index":1},{"name":"image","type":"IMAGE","link":1775}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1771],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[1769,1772,1843,1846],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["face",0.3]},{"id":803,"type":"MaskPreview+","pos":[5330,2630],"size":{"0":210,"1":246},"flags":{},"order":89,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1773}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#232","bgcolor":"#353"},{"id":825,"type":"GrowMask","pos":[5330,2930],"size":{"0":315,"1":82},"flags":{},"order":88,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1843}],"outputs":[{"name":"MASK","type":"MASK","links":[1844,1845],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[15,true]},{"id":826,"type":"MaskPreview+","pos":[5320,3050],"size":{"0":210,"1":246},"flags":{},"order":91,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1844}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":824,"type":"MaskComposite","pos":[5660,2910],"size":{"0":315,"1":126},"flags":{},"order":92,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":1845},{"name":"source","type":"MASK","link":1846}],"outputs":[{"name":"MASK","type":"MASK","links":[1847,1867],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"subtract"]},{"id":827,"type":"MaskPreview+","pos":[5660,3080],"size":{"0":210,"1":246},"flags":{},"order":94,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1847}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":834,"type":"GrowMask","pos":[6000,2910],"size":{"0":315,"1":82},"flags":{},"order":95,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1867}],"outputs":[{"name":"MASK","type":"MASK","links":[1868,1871],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[5,true],"color":"#432","bgcolor":"#653"},{"id":785,"type":"SegsToCombinedMask","pos":[5372,1465],"size":{"0":210,"1":26},"flags":{},"order":79,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":1746}],"outputs":[{"name":"MASK","type":"MASK","links":[1747,1762],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SegsToCombinedMask"}},{"id":79,"type":"PreviewImage","pos":[870,50],"size":{"0":210,"1":246},"flags":{},"order":46,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":173}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":38,"type":"PreviewImage","pos":[1430,-850],"size":{"0":210,"1":246},"flags":{},"order":60,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":67}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":37,"type":"OpenposePreprocessor","pos":[1420,-1050],"size":{"0":315,"1":150},"flags":{},"order":56,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1299}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[67,1717],"shape":3,"slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"OpenposePreprocessor"},"widgets_values":["enable","enable","disable",1024]},{"id":190,"type":"ImageResize+","pos":[1040,-1000],"size":{"0":315,"1":218},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1502},{"name":"width","type":"INT","link":436,"widget":{"name":"width"}},{"name":"height","type":"INT","link":437,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1299],"shape":3,"slot_index":0},{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[512,512,"lanczos",false,"always",0]},{"id":794,"type":"EmptyImage","pos":[4800,1869],"size":{"0":315,"1":130},"flags":{},"order":78,"mode":0,"inputs":[{"name":"width","type":"INT","link":1792,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1793,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1764],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[512,512,1,0]},{"id":793,"type":"ImageCompositeMasked","pos":[5153,1853],"size":{"0":315,"1":146},"flags":{},"order":82,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":1764},{"name":"source","type":"IMAGE","link":1834},{"name":"mask","type":"MASK","link":1762}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1763,1775],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false]},{"id":795,"type":"PreviewImage","pos":[5490,1856],"size":{"0":210,"1":246},"flags":{},"order":83,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1763}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":36,"type":"CM_NearestSDXLResolution","pos":[773,-889],"size":{"0":210,"1":46},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1501}],"outputs":[{"name":"width","type":"INT","links":[62,436],"shape":3,"slot_index":0},{"name":"height","type":"INT","links":[63,437],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"CM_NearestSDXLResolution"}},{"id":350,"type":"PreviewImage","pos":[506,-771],"size":{"0":210,"1":246},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1503}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":611,"type":"Reroute","pos":[400,571],"size":[75,26],"flags":{},"order":45,"mode":0,"inputs":[{"name":"","type":"*","link":2114}],"outputs":[{"name":"","type":"CLIP","links":[1531,1532,2059,2092,2093],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":239,"type":"Reroute","pos":[1536,-118],"size":[75,26],"flags":{},"order":47,"mode":0,"inputs":[{"name":"","type":"*","link":922}],"outputs":[{"name":"","type":"IMAGE","links":[2096],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":240,"type":"Reroute","pos":[1532,-186],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":1306}],"outputs":[{"name":"","type":"IMAGE","links":[1553,1723,2095],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":751,"type":"IPAdapterModelLoader","pos":[2620,2130],"size":{"0":305.9010925292969,"1":58},"flags":{},"order":8,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[1662],"shape":3}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus-face_sdxl_vit-h.safetensors"]},{"id":723,"type":"ApplyInstantID","pos":[2210,2790],"size":{"0":315,"1":266},"flags":{},"order":76,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":1616,"slot_index":0},{"name":"insightface","type":"FACEANALYSIS","link":1617,"slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":1618,"slot_index":2},{"name":"image","type":"IMAGE","link":2121},{"name":"model","type":"MODEL","link":1754},{"name":"positive","type":"CONDITIONING","link":2104},{"name":"negative","type":"CONDITIONING","link":2103},{"name":"image_kps","type":"IMAGE","link":1835},{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1755,2063],"shape":3,"slot_index":0},{"name":"positive","type":"CONDITIONING","links":[1964,2045,2064],"shape":3,"slot_index":1},{"name":"negative","type":"CONDITIONING","links":[1965,2046,2065],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"ApplyInstantID"},"widgets_values":[0.8,0,1]},{"id":726,"type":"ControlNetLoader","pos":[2222,1990],"size":{"0":319.7489318847656,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[1618],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["diffusion_pytorch_model.safetensors"]},{"id":725,"type":"InstantIDFaceAnalysis","pos":[2230,1890],"size":{"0":315,"1":58},"flags":{},"order":10,"mode":0,"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[1617],"shape":3}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis"},"widgets_values":["CPU"]},{"id":724,"type":"InstantIDModelLoader","pos":[2235,1790],"size":{"0":289.6206359863281,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[1616],"shape":3}],"properties":{"Node name for S&R":"InstantIDModelLoader"},"widgets_values":["ip-adapter.bin"]},{"id":734,"type":"PreviewImage","pos":[3630,2749],"size":{"0":210,"1":246},"flags":{},"order":99,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1643}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":696,"type":"IPAdapterStyleComposition","pos":[2199,828],"size":{"0":315,"1":322},"flags":{},"order":66,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1549},{"name":"ipadapter","type":"IPADAPTER","link":1550},{"name":"image_style","type":"IMAGE","link":1553},{"name":"image_composition","type":"IMAGE","link":2105},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":1551},{"name":"weight_style","type":"FLOAT","link":2112,"widget":{"name":"weight_style"},"slot_index":7}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1554,1907],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterStyleComposition"},"widgets_values":[1.1500000000000001,1.5,false,"average",0,1,"K+V"]},{"id":718,"type":"IPAdapterStyleComposition","pos":[1849,2763],"size":{"0":315,"1":322},"flags":{},"order":72,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2094},{"name":"ipadapter","type":"IPADAPTER","link":1600},{"name":"image_style","type":"IMAGE","link":2095},{"name":"image_composition","type":"IMAGE","link":1925},{"name":"image_negative","type":"IMAGE","link":2096},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":1603},{"name":"weight_style","type":"FLOAT","link":2113,"widget":{"name":"weight_style"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1754],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterStyleComposition"},"widgets_values":[1.1500000000000001,1.5,false,"average",0,1,"K+V"]},{"id":660,"type":"Reroute","pos":[1616,140],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":1507}],"outputs":[{"name":"","type":"IPADAPTER","links":[1550,1600,1722],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":829,"type":"KSampler","pos":[3040,3390],"size":{"0":315,"1":474},"flags":{},"order":100,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1907},{"name":"positive","type":"CONDITIONING","link":1854},{"name":"negative","type":"CONDITIONING","link":1855},{"name":"latent_image","type":"LATENT","link":1860}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1857],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[633063490809884,"fixed",8,1.5,"dpmpp_sde","karras",0.3]},{"id":26,"type":"IPAdapterModelLoader","pos":[487,206],"size":{"0":362.0372009277344,"1":66.76460266113281},"flags":{},"order":12,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[1507],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sdxl_vit-h.safetensors"]},{"id":813,"type":"CLIPTextEncode","pos":[1000,2583],"size":{"0":292.7781677246094,"1":193.33425903320312},"flags":{},"order":54,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":2093}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2103],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["eyes, (glasses:1.4), (lipstick:1.35), (smile:1.3), (open mouth:1.2)"],"color":"#322","bgcolor":"#533"},{"id":923,"type":"Note","pos":[3380,3480],"size":{"0":210,"1":58},"flags":{},"order":13,"mode":0,"properties":{"text":""},"widgets_values":["face rim job"],"color":"#432","bgcolor":"#653"},{"id":911,"type":"Zoe_DepthAnythingPreprocessor","pos":[3150,-180],"size":{"0":315,"1":82},"flags":{},"order":65,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2088}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2089,2090],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Zoe_DepthAnythingPreprocessor"},"widgets_values":["indoor",1024]},{"id":686,"type":"CLIPTextEncode","pos":[930,780],"size":{"0":292.7781677246094,"1":193.33425903320312},"flags":{},"order":52,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1532}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[1541],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(glasses:1.6), hands, ugly, blurry, noisy, photography, three legs, extra limbs, (lipstick:1.35), (smile:1.3), (opened mouth:1.2), naked, nude, window, sky, outdoor"],"color":"#322","bgcolor":"#533"},{"id":730,"type":"PreviewImage","pos":[2237,2083],"size":{"0":301.6265563964844,"1":360.1806945800781},"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1629}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":653,"type":"DF_Image_scale_to_side","pos":[410,-951],"size":{"0":315,"1":130},"flags":{},"order":35,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2106}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1501,1502,1503],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DF_Image_scale_to_side"},"widgets_values":[1280,"Longest","nearest-exact","disabled"]},{"id":750,"type":"IPAdapterAdvanced","pos":[2630,2761],"size":{"0":315,"1":278},"flags":{},"order":80,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":1755},{"name":"ipadapter","type":"IPADAPTER","link":1662,"slot_index":1},{"name":"image","type":"IMAGE","link":1665},{"name":"image_negative","type":"IMAGE","link":null},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":2101}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2098,2099],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.8,"reverse in-out","concat",0,0.5,"K+V"]},{"id":938,"type":"Note","pos":[319,323],"size":{"0":222.77096557617188,"1":114.85877990722656},"flags":{},"order":14,"mode":0,"properties":{"text":""},"widgets_values":["style weight\n1.15 seems too much sometimes, you can go lower\nat 1.3 original style image starts to leak too much"],"color":"#223","bgcolor":"#335"},{"id":401,"type":"LoadImage","pos":[60,-953],"size":{"0":315,"1":314.00006103515625},"flags":{},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2106],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["images (6) copy.jpg","image"],"color":"#232","bgcolor":"#353"},{"id":929,"type":"Note","pos":[2630,3089],"size":{"0":288.9621276855469,"1":125.71424102783203},"flags":{},"order":16,"mode":0,"properties":{"text":""},"widgets_values":["if you need more accurate face you can turn this on\nbetter result not guaranteed"],"color":"#432","bgcolor":"#653"},{"id":664,"type":"Reroute","pos":[1624,251],"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":1510}],"outputs":[{"name":"","type":"CLIP_VISION","links":[1551,1603,1724,2101],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":21,"type":"CLIPVisionLoader","pos":[-535,744],"size":{"0":326.1768493652344,"1":58},"flags":{},"order":17,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[1510],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-691,548],"size":{"0":325.2582092285156,"1":98},"flags":{},"order":18,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[2116],"slot_index":0},{"name":"CLIP","type":"CLIP","links":[2118],"slot_index":1},{"name":"VAE","type":"VAE","links":[464],"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["dreamshaperXL_v21TurboDPMSDE.safetensors"]},{"id":920,"type":"Note","pos":[2570,-349],"size":{"0":354.94921875,"1":119.96255493164062},"flags":{},"order":19,"mode":0,"properties":{"text":""},"widgets_values":["this group affects only composition so you can do whatever you want here"],"color":"#432","bgcolor":"#653"},{"id":780,"type":"VAEDecode","pos":[2914,-175],"size":{"0":210,"1":46},"flags":{},"order":63,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1729},{"name":"vae","type":"VAE","link":1730}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1733,2088,2105],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":925,"type":"Note","pos":[5552,2640],"size":{"0":210,"1":58},"flags":{},"order":20,"mode":0,"properties":{"text":""},"widgets_values":["mask that is used for face raplacement"],"color":"#232","bgcolor":"#353"},{"id":835,"type":"MaskPreview+","pos":[6000,3040],"size":{"0":210,"1":246},"flags":{},"order":97,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1868}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#432","bgcolor":"#653"},{"id":802,"type":"GrowMask","pos":[5339,2520],"size":{"0":315,"1":82},"flags":{},"order":87,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1772}],"outputs":[{"name":"MASK","type":"MASK","links":[1773,2102],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[5,true],"color":"#232","bgcolor":"#353"},{"id":924,"type":"Note","pos":[5869,2224],"size":{"0":210,"1":58},"flags":{},"order":21,"mode":0,"properties":{"text":""},"widgets_values":["original face"],"color":"#332922","bgcolor":"#593930"},{"id":800,"type":"PreviewImage","pos":[5640,2198],"size":{"0":210,"1":246},"flags":{},"order":85,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1771}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#332922","bgcolor":"#593930"},{"id":799,"type":"MaskPreview+","pos":[5420,2200],"size":{"0":210,"1":246},"flags":{},"order":86,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1769}],"properties":{"Node name for S&R":"MaskPreview+"},"color":"#332922","bgcolor":"#593930"},{"id":927,"type":"Note","pos":[6230,3040],"size":{"0":210,"1":114.3150405883789},"flags":{},"order":22,"mode":0,"properties":{"text":""},"widgets_values":["rim mask around face to smooth transition between original image and new face"],"color":"#432","bgcolor":"#653"},{"id":939,"type":"DF_Float","pos":[558,352],"size":{"0":233.46034240722656,"1":62.335906982421875},"flags":{},"order":23,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2112,2113],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DF_Float"},"widgets_values":[1.1500000000000001],"color":"#223","bgcolor":"#335"},{"id":940,"type":"LoraLoader","pos":[-230,540],"size":{"0":315,"1":126},"flags":{},"order":37,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2116},{"name":"clip","type":"CLIP","link":2118}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2119],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[2114],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["Perfect Hands v2.safetensors",1,1],"color":"#432","bgcolor":"#653"},{"id":945,"type":"Note","pos":[-225,366],"size":{"0":308.1890869140625,"1":139.45315551757812},"flags":{},"order":24,"mode":0,"properties":{"text":""},"widgets_values":["this lora is optional\nhands looks ugly 60% of the time everytime anyway"],"color":"#432","bgcolor":"#653"},{"id":942,"type":"Note","pos":[69,-598],"size":{"0":210,"1":58},"flags":{},"order":25,"mode":0,"properties":{"text":""},"widgets_values":["image with pose for reference"],"color":"#232","bgcolor":"#353"},{"id":418,"type":"LoadImage","pos":[530,-160],"size":{"0":315,"1":314},"flags":{},"order":26,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1306,1307],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["32.png","image"],"color":"#233","bgcolor":"#355"},{"id":414,"type":"Note","pos":[311,-151],"size":{"0":210,"1":58},"flags":{},"order":27,"mode":0,"properties":{"text":""},"widgets_values":["style image"],"color":"#233","bgcolor":"#355"},{"id":947,"type":"Note","pos":[4617,1584],"size":{"0":318.5784606933594,"1":158.0050048828125},"flags":{},"order":28,"mode":0,"properties":{"text":""},"widgets_values":["the main goal is to select only our main face\n0.8 works just fine even if there is some \"crowd\" at the background\n\nbut when image is very stylized it sometimes can't recognize face at all, so lower weight to 0.5-0.6"],"color":"#432","bgcolor":"#653"},{"id":946,"type":"Reroute","pos":[403,533],"size":[75,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":2119}],"outputs":[{"name":"","type":"MODEL","links":[2120],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":898,"type":"SaveImage","pos":[6448,561],"size":{"0":220.8031768798828,"1":270},"flags":{"collapsed":false},"order":115,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2052}],"properties":{},"widgets_values":["ComfyUI"]},{"id":903,"type":"PreviewImage","pos":[5290,-970],"size":{"0":210,"1":246},"flags":{},"order":104,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2066}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":904,"type":"PreviewImage","pos":[5510,-970],"size":{"0":210,"1":246},"flags":{},"order":106,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2067}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":907,"type":"PreviewImage","pos":[5740,-970],"size":{"0":210,"1":246},"flags":{},"order":109,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2070}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":899,"type":"DetailerForEachDebug","pos":[4830,-700],"size":{"0":440,"1":820},"flags":{},"order":103,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":2054},{"name":"segs","type":"SEGS","link":2062,"slot_index":1},{"name":"model","type":"MODEL","link":2063},{"name":"clip","type":"CLIP","link":2059},{"name":"vae","type":"VAE","link":2058},{"name":"positive","type":"CONDITIONING","link":2064},{"name":"negative","type":"CONDITIONING","link":2065},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null}],"outputs":[{"name":"image","type":"IMAGE","links":[2066,2079],"shape":3,"slot_index":0},{"name":"cropped","type":"IMAGE","links":[2067],"shape":6,"slot_index":1},{"name":"cropped_refined","type":"IMAGE","links":[2068],"shape":6,"slot_index":2},{"name":"cropped_refined_alpha","type":"IMAGE","links":[2069],"shape":6,"slot_index":3},{"name":"cnet_images","type":"IMAGE","links":[2070],"shape":6,"slot_index":4}],"properties":{"Node name for S&R":"DetailerForEachDebug"},"widgets_values":[392,true,1024,10201,"fixed",12,2,"dpmpp_sde","karras",0.5,5,true,true,"",1,false,20]},{"id":905,"type":"PreviewImage","pos":[5290,-690],"size":{"0":210,"1":246},"flags":{},"order":107,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2068}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":906,"type":"PreviewImage","pos":[5510,-690],"size":{"0":210,"1":246},"flags":{},"order":108,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":2069}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":698,"type":"VAEDecode","pos":[2903,756],"size":{"0":210,"1":46},"flags":{},"order":70,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1558},{"name":"vae","type":"VAE","link":1559}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1560,1925,2039],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":697,"type":"KSampler","pos":[2570,760],"size":{"0":315,"1":474},"flags":{},"order":69,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1554},{"name":"positive","type":"CONDITIONING","link":2085},{"name":"negative","type":"CONDITIONING","link":2084},{"name":"latent_image","type":"LATENT","link":1557}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1558,1841],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[633063490811911,"fixed",8,1.5,"dpmpp_sde","karras",1]},{"id":779,"type":"KSampler","pos":[2570,-170],"size":{"0":315,"1":474},"flags":{},"order":62,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1725},{"name":"positive","type":"CONDITIONING","link":1731},{"name":"negative","type":"CONDITIONING","link":1732},{"name":"latent_image","type":"LATENT","link":1728}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1729],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[633063490811901,"fixed",8,1.5,"dpmpp_sde","karras",1]},{"id":784,"type":"BboxDetectorSEGS","pos":[4950,1470],"size":{"0":400,"1":212},"flags":{},"order":75,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":1744},{"name":"image","type":"IMAGE","link":1833},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[1746],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BboxDetectorSEGS"},"widgets_values":[0.8,100,3,10,"all"],"color":"#432","bgcolor":"#653"},{"id":731,"type":"KSampler","pos":[3010,2750],"size":{"0":315,"1":474.0001220703125},"flags":{},"order":93,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2098},{"name":"positive","type":"CONDITIONING","link":1964},{"name":"negative","type":"CONDITIONING","link":1965},{"name":"latent_image","type":"LATENT","link":1639}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1642,1861],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[52931379130945,"fixed",12,2,"dpmpp_sde","karras",1]},{"id":895,"type":"KSampler","pos":[6123,476],"size":{"0":315,"1":474},"flags":{"pinned":false},"order":113,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2099},{"name":"positive","type":"CONDITIONING","link":2045},{"name":"negative","type":"CONDITIONING","link":2046},{"name":"latent_image","type":"LATENT","link":2048}],"outputs":[{"name":"LATENT","type":"LATENT","links":[2050],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1097531297202309,"fixed",6,2,"dpmpp_sde","karras",0.4]},{"id":727,"type":"LoadImagesFromDir //Inspire","pos":[2220,2480],"size":{"0":315,"1":170},"flags":{},"order":29,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1629,2121],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"INT","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImagesFromDir //Inspire"},"widgets_values":["F:\\ai art\\heads crops\\travolta\\main",0,0,true],"color":"#323","bgcolor":"#535"},{"id":944,"type":"Note","pos":[1913,2491],"size":{"0":288.9621276855469,"1":125.71424102783203},"flags":{},"order":30,"mode":0,"properties":{"text":""},"widgets_values":["link to directory with images of face\n1-4 portrait photos should be enough"],"color":"#323","bgcolor":"#535"},{"id":685,"type":"CLIPTextEncode","pos":[920,600],"size":{"0":404.1556091308594,"1":144.0012664794922},"flags":{},"order":51,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1531}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[1540],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["vintage photo of a man with long hair standing in near brick wall with his hand touchin his head"],"color":"#232","bgcolor":"#353"},{"id":812,"type":"CLIPTextEncode","pos":[1004,2400],"size":{"0":404.1556091308594,"1":144.0012664794922},"flags":{},"order":53,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":2092}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[2104],"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["vintage photo of a man with long hair"],"color":"#232","bgcolor":"#353"},{"id":951,"type":"Note","pos":[570,560],"size":[330,200],"flags":{},"order":31,"mode":0,"properties":{"text":""},"widgets_values":["examples:\n1) traditional oil painting of a woman with long red hair in light dress sitting on a horse\n\n2) black and white manga painting of a barbarian woman in fur armor sitting on a throne made from bones\n\n3) comicbook painting of a wizard with lightning in his hand standing in a cave"],"color":"#432","bgcolor":"#653"},{"id":941,"type":"Note","pos":[4863,-861],"size":{"0":284.45123291015625,"1":118.87269592285156},"flags":{},"order":32,"mode":0,"properties":{"text":""},"widgets_values":["optional stage\nyou will probably get better result just inpainting afterwards anyway"],"color":"#432","bgcolor":"#653"}],"links":[[62,36,0,5,0,"INT"],[63,36,1,5,1,"INT"],[67,37,0,38,0,"IMAGE"],[173,65,0,79,0,"IMAGE"],[436,36,0,190,1,"INT"],[437,36,1,190,2,"INT"],[464,4,2,197,0,"*"],[922,65,0,239,0,"*"],[1299,190,0,37,0,"IMAGE"],[1306,418,0,240,0,"*"],[1307,418,0,65,0,"IMAGE"],[1342,5,0,574,0,"*"],[1501,653,0,36,0,"IMAGE"],[1502,653,0,190,0,"IMAGE"],[1503,653,0,350,0,"IMAGE"],[1507,26,0,660,0,"*"],[1510,21,0,664,0,"*"],[1531,611,0,685,0,"CLIP"],[1532,611,0,686,0,"CLIP"],[1540,685,0,647,0,"*"],[1541,686,0,648,0,"*"],[1549,651,0,696,0,"MODEL"],[1550,660,0,696,1,"IPADAPTER"],[1551,664,0,696,6,"CLIP_VISION"],[1553,240,0,696,2,"IMAGE"],[1554,696,0,697,0,"MODEL"],[1557,574,0,697,3,"LATENT"],[1558,697,0,698,0,"LATENT"],[1559,197,0,698,1,"VAE"],[1560,698,0,699,0,"IMAGE"],[1600,660,0,718,1,"IPADAPTER"],[1603,664,0,718,6,"CLIP_VISION"],[1616,724,0,723,0,"INSTANTID"],[1617,725,0,723,1,"FACEANALYSIS"],[1618,726,0,723,2,"CONTROL_NET"],[1629,727,0,730,0,"IMAGE"],[1639,732,0,731,3,"LATENT"],[1641,197,0,733,1,"VAE"],[1642,731,0,733,0,"LATENT"],[1643,733,0,734,0,"IMAGE"],[1662,751,0,750,1,"IPADAPTER"],[1664,752,0,753,0,"IMAGE"],[1665,753,0,750,2,"IMAGE"],[1717,37,0,776,3,"IMAGE"],[1718,777,0,776,2,"CONTROL_NET"],[1719,647,0,776,0,"CONDITIONING"],[1720,648,0,776,1,"CONDITIONING"],[1721,651,0,778,0,"MODEL"],[1722,660,0,778,1,"IPADAPTER"],[1723,240,0,778,2,"IMAGE"],[1724,664,0,778,5,"CLIP_VISION"],[1725,778,0,779,0,"MODEL"],[1728,574,0,779,3,"LATENT"],[1729,779,0,780,0,"LATENT"],[1730,197,0,780,1,"VAE"],[1731,776,0,779,1,"CONDITIONING"],[1732,776,1,779,2,"CONDITIONING"],[1733,780,0,781,0,"IMAGE"],[1744,761,0,784,0,"BBOX_DETECTOR"],[1746,784,0,785,0,"SEGS"],[1747,785,0,786,0,"MASK"],[1754,718,0,723,4,"MODEL"],[1755,723,0,750,0,"MODEL"],[1762,785,0,793,2,"MASK"],[1763,793,0,795,0,"IMAGE"],[1764,794,0,793,0,"IMAGE"],[1767,797,0,796,0,"SAM_MODEL"],[1768,798,0,796,1,"GROUNDING_DINO_MODEL"],[1769,796,1,799,0,"MASK"],[1771,796,0,800,0,"IMAGE"],[1772,796,1,802,0,"MASK"],[1773,802,0,803,0,"MASK"],[1775,793,0,796,2,"IMAGE"],[1792,810,0,794,0,"INT"],[1793,810,1,794,1,"INT"],[1832,823,0,810,0,"IMAGE"],[1833,823,0,784,1,"IMAGE"],[1834,823,0,793,1,"IMAGE"],[1835,823,0,723,7,"IMAGE"],[1841,697,0,732,0,"LATENT"],[1843,796,1,825,0,"MASK"],[1844,825,0,826,0,"MASK"],[1845,825,0,824,0,"MASK"],[1846,796,1,824,1,"MASK"],[1847,824,0,827,0,"MASK"],[1854,647,0,829,1,"CONDITIONING"],[1855,648,0,829,2,"CONDITIONING"],[1857,829,0,830,0,"LATENT"],[1858,197,0,830,1,"VAE"],[1860,831,0,829,3,"LATENT"],[1861,731,0,831,0,"LATENT"],[1863,830,0,832,0,"IMAGE"],[1867,824,0,834,0,"MASK"],[1868,834,0,835,0,"MASK"],[1871,834,0,831,1,"MASK"],[1907,696,0,829,0,"MODEL"],[1925,698,0,718,3,"IMAGE"],[1964,723,1,731,1,"CONDITIONING"],[1965,723,2,731,2,"CONDITIONING"],[1990,878,0,877,0,"UPSCALE_MODEL"],[1991,877,0,879,0,"IMAGE"],[2039,698,0,823,0,"*"],[2041,879,0,893,0,"IMAGE"],[2042,197,0,894,1,"VAE"],[2043,879,0,894,0,"IMAGE"],[2045,723,1,895,1,"CONDITIONING"],[2046,723,2,895,2,"CONDITIONING"],[2048,894,0,895,3,"LATENT"],[2049,197,0,896,1,"VAE"],[2050,895,0,896,0,"LATENT"],[2052,896,0,898,0,"IMAGE"],[2054,830,0,899,0,"IMAGE"],[2058,197,0,899,4,"VAE"],[2059,611,0,899,3,"CLIP"],[2060,900,0,902,0,"BBOX_DETECTOR"],[2061,823,0,902,1,"IMAGE"],[2062,902,0,899,1,"SEGS"],[2063,723,0,899,2,"MODEL"],[2064,723,1,899,5,"CONDITIONING"],[2065,723,2,899,6,"CONDITIONING"],[2066,899,0,903,0,"IMAGE"],[2067,899,1,904,0,"IMAGE"],[2068,899,2,905,0,"IMAGE"],[2069,899,3,906,0,"IMAGE"],[2070,899,4,907,0,"IMAGE"],[2079,899,0,877,1,"IMAGE"],[2084,910,1,697,2,"CONDITIONING"],[2085,910,0,697,1,"CONDITIONING"],[2086,648,0,910,1,"CONDITIONING"],[2087,647,0,910,0,"CONDITIONING"],[2088,780,0,911,0,"IMAGE"],[2089,911,0,910,3,"IMAGE"],[2090,911,0,912,0,"IMAGE"],[2092,611,0,812,0,"CLIP"],[2093,611,0,813,0,"CLIP"],[2094,651,0,718,0,"MODEL"],[2095,240,0,718,2,"IMAGE"],[2096,239,0,718,4,"IMAGE"],[2098,750,0,731,0,"MODEL"],[2099,750,0,895,0,"MODEL"],[2100,922,0,910,2,"CONTROL_NET"],[2101,664,0,750,5,"CLIP_VISION"],[2102,802,0,732,1,"MASK"],[2103,813,0,723,6,"CONDITIONING"],[2104,812,0,723,5,"CONDITIONING"],[2105,780,0,696,3,"IMAGE"],[2106,401,0,653,0,"IMAGE"],[2112,939,0,696,7,"FLOAT"],[2113,939,0,718,7,"FLOAT"],[2114,940,1,611,0,"*"],[2116,4,0,940,0,"MODEL"],[2118,4,1,940,1,"CLIP"],[2119,940,0,946,0,"*"],[2120,946,0,651,0,"*"],[2121,727,0,723,3,"IMAGE"]],"groups":[{"title":"final pass, fixes ugly faces","bounding":[5875,402,804,558],"color":"#3f789e","font_size":24},{"title":"hands detailer","bounding":[4282,-1105,1734,1277],"color":"#3f789e","font_size":24},{"title":"upscale before final pass","bounding":[4752,290,882,653],"color":"#3f789e","font_size":24},{"title":"zero pass, creating composition reference","bounding":[2036,-660,1482,1022],"color":"#3f789e","font_size":24},{"title":"first pass, main","bounding":[2123,464,1348,858],"color":"#3f789e","font_size":24},{"title":"face replacement","bounding":[1839,1716,2011,2158],"color":"#3f789e","font_size":24},{"title":"overcomplicated face masking","bounding":[4472,1385,2072,1972],"color":"#3f789e","font_size":24},{"title":"pose for zero pass","bounding":[43,-1124,1683,796],"color":"#3f789e","font_size":24},{"title":"style settings","bounding":[290,-234,1021,692],"color":"#3f789e","font_size":24},{"title":"overall composition prompt","bounding":[910,526,424,457],"color":"#3f789e","font_size":24},{"title":"face prompt","bounding":[990,2326,428,460],"color":"#3f789e","font_size":24}],"config":{},"extra":{"groupNodes":{},"workspace_info":{"id":"NdaltaggPqMA3gtAzLpBM"}},"version":0.4}