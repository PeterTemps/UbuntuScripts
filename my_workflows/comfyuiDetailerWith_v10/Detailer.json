{"last_node_id":298,"last_link_id":801,"nodes":[{"id":196,"type":"Reroute (rgthree)","pos":{"0":470,"1":440,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":572,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[425,588],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":210,"type":"MaskToSEGS","pos":[1590,490],"size":{"0":320,"1":150},"flags":{},"order":45,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":465,"slot_index":0}],"outputs":[{"name":"SEGS","type":"SEGS","links":[441,633],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToSEGS"},"widgets_values":[true,2,false,10,false]},{"id":21,"type":"SelfAttentionGuidance","pos":[925.3458919627227,1570.989213354214],"size":{"0":320,"1":80},"flags":{},"order":27,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":420}],"outputs":[{"name":"MODEL","type":"MODEL","links":[235],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SelfAttentionGuidance"},"widgets_values":[0.5,2]},{"id":269,"type":"Reroute (rgthree)","pos":{"0":1201.34619140625,"1":1947.98974609375,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":29,"mode":0,"inputs":[{"name":"","type":"*","link":705,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[703],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":255,"type":"Reroute","pos":[430,330],"size":[75,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":621,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"BOOLEAN","links":[620,622],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":206,"type":"Reroute (rgthree)","pos":{"0":470,"1":510,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":708,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[792],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":204,"type":"Reroute (rgthree)","pos":{"0":470,"1":530,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":435,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"MASK","type":"MASK","links":[791],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":205,"type":"Reroute (rgthree)","pos":{"0":610,"1":710,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":588,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[627,629],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":256,"type":"Reroute","pos":[610,650],"size":[75,26],"flags":{},"order":30,"mode":0,"inputs":[{"name":"","type":"*","link":622,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"BOOLEAN","links":[614],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":200,"type":"WD14Tagger|pysssss","pos":[700,810],"size":{"0":310,"1":250},"flags":{},"order":37,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":627}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,true,true,""]},{"id":275,"type":"Bookmark (rgthree)","pos":{"0":-30,"1":-20,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"Mask Bookmark","properties":{},"widgets_values":["1",0.7]},{"id":277,"type":"Bookmark (rgthree)","pos":{"0":-16,"1":1292,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":1,"mode":0,"inputs":[],"outputs":[],"title":"Detailer Bookmark","properties":{},"widgets_values":["2",0.75]},{"id":270,"type":"Reroute (rgthree)","pos":{"0":511,"1":1947,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":704,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[705],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":69,"type":"SaveImage","pos":[1898.4670532226557,1526.5334014892578],"size":{"0":320,"1":270},"flags":{"collapsed":true},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":237}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":260,"type":"Reroute (rgthree)","pos":{"0":1860,"1":710,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":629,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[628],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":261,"type":"SetNode","pos":[470,420],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":24,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":714,"slot_index":0}],"outputs":[{"name":"*","type":"*","links":null,"slot_index":0}],"title":"Set Image","properties":{"previousName":"Image"},"widgets_values":["Image"],"color":"#432","bgcolor":"#653"},{"id":265,"type":"SetNode","pos":[1980,410],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[{"name":"SEGS","type":"SEGS","link":633,"slot_index":0}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set SEGS","properties":{"previousName":"SEGS"},"widgets_values":["SEGS"],"color":"#432","bgcolor":"#653"},{"id":266,"type":"GetNode","pos":[1125,1510],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"SEGS","type":"SEGS","links":[634],"slot_index":0}],"title":"Get_SEGS","properties":{},"widgets_values":["SEGS"],"color":"#323","bgcolor":"#535"},{"id":280,"type":"Reroute (rgthree)","pos":{"0":1732,"1":1440,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":718,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[719],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":186,"type":"Image Comparer (rgthree)","pos":{"0":1898.467529296875,"1":1581.533447265625,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":270,"1":240},"flags":{},"order":40,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":719,"dir":3},{"name":"image_b","type":"IMAGE","link":368,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/view?filename=rgthree.compare._temp_zzfkv_00001_.png&type=temp&subfolder=&rand=0.46932093462181423"},{"name":"B","selected":true,"url":"/view?filename=rgthree.compare._temp_zzfkv_00002_.png&type=temp&subfolder=&rand=0.7921107209011581"}]]},{"id":185,"type":"PreviewImage","pos":[1898,1939],"size":{"0":270,"1":250},"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":366}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":282,"type":"Reroute (rgthree)","pos":{"0":1201,"1":2002,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":722,"dir":3,"has_old_label":true,"label":" ","widget":{"name":"value"},"slot_index":0}],"outputs":[{"name":"SEED","type":"INT","links":[721],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":281,"type":"Seed (rgthree)","pos":{"0":813,"1":2003,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":130},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[722],"shape":3,"dir":4,"slot_index":0}],"properties":{},"widgets_values":[-1,null,null,null]},{"id":241,"type":"Reroute (rgthree)","pos":{"0":920,"1":340,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":582,"dir":1,"has_old_label":true,"label":" "}],"outputs":[{"name":"MASK","type":"MASK","links":[584,789],"dir":2,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30],"connections_layout":["Top","Bottom"]}},{"id":232,"type":"ImpactConditionalBranch","pos":[1320,610],"size":{"0":210,"1":70},"flags":{},"order":44,"mode":0,"inputs":[{"name":"tt_value","type":"MASK","link":788},{"name":"ff_value","type":"MASK","link":583,"slot_index":1},{"name":"cond","type":"BOOLEAN","link":614,"widget":{"name":"cond"},"slot_index":2}],"outputs":[{"name":"*","type":"MASK","links":[465],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImpactConditionalBranch"},"widgets_values":[false]},{"id":201,"type":"PreviewImage","pos":[1290,110],"size":{"0":330,"1":300},"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":430}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":244,"type":"Reroute (rgthree)","pos":{"0":990,"1":630,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":584,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[583],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":264,"type":"Note","pos":[700,630],"size":{"0":210,"1":78.69878387451172},"flags":{},"order":4,"mode":0,"properties":{"text":""},"widgets_values":["Masks Combined path uses normal reroutes instead of rgthree reroutes due to bugged interaction with bool primitives."],"color":"#332922","bgcolor":"#593930"},{"id":203,"type":"Note","pos":[1290,490],"size":{"0":260.8257141113281,"1":73.82234954833984},"flags":{},"order":5,"mode":0,"properties":{"text":""},"widgets_values":["Can use mask editor to manually adjust segmentation results from Yoloworld if the need arises. Manual Mask editing will be ignored when Masks Combined node is false."],"color":"#332922","bgcolor":"#593930"},{"id":191,"type":"Power Lora Loader (rgthree)","pos":{"0":510,"1":1642,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":340,"1":120},"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":415,"dir":3},{"name":"clip","type":"CLIP","link":416,"dir":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[420],"shape":3,"dir":4,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[706,800,801],"shape":3,"dir":4,"slot_index":1}],"properties":{"Show Strengths":"Single Strength"},"widgets_values":[null,{"type":"PowerLoraLoaderHeaderWidget"},null,""]},{"id":279,"type":"Reroute (rgthree)","pos":{"0":1302,"1":1440,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":715,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[716,718],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":188,"type":"CheckpointLoaderSimple","pos":[78.34589196272312,1751.989213354214],"size":{"0":320,"1":100},"flags":{},"order":6,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[415],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[416],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[704],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDXL/realvisxlV40_v40Bakedvae.safetensors"]},{"id":263,"type":"Note","pos":[1049,2090],"size":{"0":350,"1":210},"flags":{},"order":7,"mode":0,"properties":{"text":""},"widgets_values":["If Masks Combined node is set to false then leave prompts blank and instead fill in detailer's wildcard spec using the following format:\n\n[ASC]\nseg1 prompt [SEP]\nseg2 prompt [SEP]\netc...\n\nExpanded explanation at creator's documentation:\nhttps://github.com/ltdrdata/ComfyUI-extension-tutorials/blob/Main/ComfyUI-Impact-Pack/tutorial/ImpactWildcard.md"],"color":"#332922","bgcolor":"#593930"},{"id":116,"type":"DetailerForEachDebug","pos":[1418.3458919627233,1601.989213354214],"size":{"0":350,"1":670},"flags":{},"order":34,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":716,"slot_index":0},{"name":"segs","type":"SEGS","link":634},{"name":"model","type":"MODEL","link":235},{"name":"clip","type":"CLIP","link":706},{"name":"vae","type":"VAE","link":703},{"name":"positive","type":"CONDITIONING","link":798},{"name":"negative","type":"CONDITIONING","link":799},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null},{"name":"seed","type":"INT","link":721,"widget":{"name":"seed"}}],"outputs":[{"name":"image","type":"IMAGE","links":[237,368],"shape":3,"slot_index":0},{"name":"cropped","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined_alpha","type":"IMAGE","links":[366],"shape":6,"slot_index":3},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6}],"properties":{"Node name for S&R":"DetailerForEachDebug"},"widgets_values":[1024,true,1536,11081633316225,"randomize",45,7,"dpmpp_2m","karras",0.8,5,true,true,"",1,false,20]},{"id":207,"type":"LoadImage","pos":[80,810],"size":[320,310],"flags":{},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3},{"name":"MASK","type":"MASK","links":[435],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-5923121.png [input]","image"]},{"id":211,"type":"SEGSPreview","pos":[1980,490],"size":{"0":320,"1":310},"flags":{},"order":46,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":441,"slot_index":0},{"name":"fallback_image_opt","type":"IMAGE","link":628,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.2]},{"id":291,"type":"workflow/Composite Mask","pos":[990,490],"size":{"0":270,"1":120},"flags":{},"order":43,"mode":0,"inputs":[{"name":"base_mask","type":"MASK","link":789},{"name":"composite_mask_1","type":"MASK","link":792},{"name":"composite_mask_2","type":"MASK","link":791}],"outputs":[{"name":"MASK","type":"MASK","links":[788],"shape":3}],"properties":{"Node name for S&R":"workflow/Composite Mask"},"widgets_values":[0,0,"add",0,0,"subtract"]},{"id":234,"type":"PrimitiveNode","pos":[80,330],"size":{"0":210,"1":60},"flags":{},"order":9,"mode":0,"outputs":[{"name":"BOOLEAN","type":"BOOLEAN","links":[621],"slot_index":0,"widget":{"name":"value"}}],"title":"Masks Combined","properties":{"Run widget replace on values":false},"widgets_values":[false]},{"id":194,"type":"Yoloworld_ESAM_Zho","pos":[600,110],"size":{"0":300,"1":380},"flags":{},"order":32,"mode":0,"inputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","link":423},{"name":"esam_model","type":"ESAMMODEL","link":424,"slot_index":1},{"name":"image","type":"IMAGE","link":425,"slot_index":2},{"name":"mask_combined","type":"BOOLEAN","link":620,"widget":{"name":"mask_combined"},"slot_index":3}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[430],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[582],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Yoloworld_ESAM_Zho"},"widgets_values":["hair,",0.1,0.1,2,2,1,true,false,true,false,false,0]},{"id":193,"type":"Yoloworld_ModelLoader_Zho","pos":[80,110],"size":{"0":320,"1":60},"flags":{},"order":10,"mode":0,"outputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","links":[423],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Yoloworld_ModelLoader_Zho"},"widgets_values":["yolo_world/l"]},{"id":278,"type":"Fast Groups Muter (rgthree)","pos":{"0":-361,"1":33,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":230,"1":130},"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"red","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":276,"type":"Note","pos":[990,180],"size":{"0":260,"1":130},"flags":{},"order":12,"mode":0,"properties":{"text":""},"widgets_values":["Yoloworld segmentation results improve if a trailing comma is added.\n\nBe wary that due to its implementation the node will throw an error if written category subjects are not found within the given image when Mask Combined node is false."],"color":"#332922","bgcolor":"#593930"},{"id":195,"type":"ESAM_ModelLoader_Zho","pos":[80,220],"size":{"0":320,"1":60},"flags":{},"order":13,"mode":0,"outputs":[{"name":"esam_model","type":"ESAMMODEL","links":[424],"shape":3}],"properties":{"Node name for S&R":"ESAM_ModelLoader_Zho"},"widgets_values":["CUDA"]},{"id":262,"type":"GetNode","pos":[1130,1470],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":14,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[715],"slot_index":0}],"title":"Get_Image","properties":{},"widgets_values":["Image"],"color":"#323","bgcolor":"#535"},{"id":199,"type":"LoadImage","pos":[80,440],"size":[320,310],"flags":{},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[572,714,793],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[708],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["d179798ae65f7230b09493b8959c8b1b.jpg","image"]},{"id":295,"type":"SetNode","pos":[-610,360],"size":{"0":210,"1":58},"flags":{},"order":25,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":793}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_img2","properties":{"previousName":"img2"},"widgets_values":["img2"]},{"id":294,"type":"GetNode","pos":[-600,460],"size":{"0":210,"1":58},"flags":{},"order":16,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null}],"title":"Get_img2","properties":{},"widgets_values":["img2"]},{"id":298,"type":"workflow/CombinedPrompts","pos":[930,1730],"size":[400,180],"flags":{},"order":28,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":800},{"name":"CLIPTextEncode clip","type":"CLIP","link":801}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[798],"shape":3},{"name":"CLIPTextEncode CONDITIONING","type":"CONDITIONING","links":[799],"shape":3}],"properties":{"Node name for S&R":"workflow/CombinedPrompts"},"widgets_values":["long red hair, ","(worst quality, low quality, normal quality, lowres, low details, oversaturated, undersaturated, overexposed, underexposed, grayscale, bw, bad photo, bad photography, bad art:1.4)"]}],"links":[[235,21,0,116,2,"MODEL"],[237,116,0,69,0,"IMAGE"],[366,116,3,185,0,"IMAGE"],[368,116,0,186,1,"IMAGE"],[415,188,0,191,0,"MODEL"],[416,188,1,191,1,"CLIP"],[420,191,0,21,0,"MODEL"],[423,193,0,194,0,"YOLOWORLDMODEL"],[424,195,0,194,1,"ESAMMODEL"],[425,196,0,194,2,"IMAGE"],[430,194,0,201,0,"IMAGE"],[435,207,1,204,0,"*"],[441,210,0,211,0,"SEGS"],[465,232,0,210,0,"MASK"],[572,199,0,196,0,"*"],[582,194,1,241,0,"*"],[583,244,0,232,1,"MASK"],[584,241,0,244,0,"*"],[588,196,0,205,0,"*"],[614,256,0,232,2,"BOOLEAN"],[620,255,0,194,3,"BOOLEAN"],[621,234,0,255,0,"*"],[622,255,0,256,0,"*"],[627,205,0,200,0,"IMAGE"],[628,260,0,211,1,"IMAGE"],[629,205,0,260,0,"*"],[633,210,0,265,0,"*"],[634,266,0,116,1,"SEGS"],[703,269,0,116,4,"VAE"],[704,188,2,270,0,"*"],[705,270,0,269,0,"*"],[706,191,1,116,3,"CLIP"],[708,199,1,206,0,"*"],[714,199,0,261,0,"IMAGE"],[715,262,0,279,0,"*"],[716,279,0,116,0,"IMAGE"],[718,279,0,280,0,"*"],[719,280,0,186,0,"IMAGE"],[721,282,0,116,8,"INT"],[722,281,0,282,0,"*"],[788,291,0,232,0,"MASK"],[789,241,0,291,0,"MASK"],[791,204,0,291,2,"MASK"],[792,206,0,291,1,"MASK"],[793,199,0,295,0,"*"],[798,298,0,116,5,"CONDITIONING"],[799,298,1,116,6,"CONDITIONING"],[800,191,1,298,0,"CLIP"],[801,191,1,298,1,"CLIP"]],"groups":[{"title":"Mask","bounding":[0,0,2346,1173],"color":"#88A","font_size":24,"locked":false},{"title":"Detailer","bounding":[0,1333,2210,1005],"color":"#8AA","font_size":24,"locked":false},{"title":"Output","bounding":[1887,1456,291,743],"color":"#A88","font_size":24,"locked":false}],"config":{},"extra":{"groupNodes":{"Combined Prompt":{"nodes":[{"type":"CLIPTextEncode","pos":[960,1810],"size":{"0":400,"1":200},"flags":{},"order":20,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"index":0},{"type":"CLIPTextEncode","pos":[960,2060],"size":{"0":400,"1":200},"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"index":1}],"links":[[null,1,0,0,191,"CLIP"],[null,1,1,0,191,"CLIP"]],"external":[[0,0,"CONDITIONING"],[1,0,"CONDITIONING"]],"config":{"0":{"input":{"clip":{"name":"positive_clip"},"text":{"name":"positive text"}},"output":{"0":{"name":"positive"}}},"1":{"input":{"clip":{"name":"negative_clip"},"text":{"name":"negative text"}},"output":{"0":{"name":"negative"}}}}},"Composite Mask":{"nodes":[{"type":"Note","pos":[1924,1052],"size":{"0":210.27230834960938,"1":111.22358703613281},"flags":{},"order":16,"mode":0,"properties":{"text":""},"widgets_values":["The extra mask list node is necessary to deal with an edge case where mask composite fails if manual masks are empty while the yolo mask is not and mask_combined and mask_extracted are both false."],"color":"#332922","bgcolor":"#593930","index":0},{"type":"MasksToMaskList","pos":[1925,974],"size":{"0":210,"1":26},"flags":{},"order":42,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":null}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"MasksToMaskList"},"index":1},{"type":"MaskComposite","pos":[2190.4242882505423,973.6739304450458],"size":{"0":315,"1":126},"flags":{},"order":43,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":null,"label":"destination"},{"name":"source","type":"MASK","link":null,"label":"source","slot_index":1}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"index":2},{"type":"MaskComposite","pos":[2556,974],"size":{"0":315,"1":126},"flags":{},"order":44,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":null},{"name":"source","type":"MASK","link":null,"label":"source","slot_index":1}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"subtract"],"index":3}],"links":[[null,0,1,0,241,"MASK"],[1,0,2,0,290,"MASK"],[null,0,2,1,206,"MASK"],[2,0,3,0,284,"MASK"],[null,0,3,1,204,"MASK"]],"external":[[3,0,"MASK"]],"config":{"1":{"input":{"masks":{"name":"base_mask"}}},"2":{"input":{"source":{"name":"composite_mask_1"},"operation":{"name":"composite_mode_1"},"x":{"visible":false},"y":{"visible":false}}},"3":{"input":{"source":{"name":"composite_mask_2"},"x":{"name":"u","visible":false},"y":{"name":"v","visible":false},"operation":{"name":"composite_mode_2"}}}}},"CombinedPrompts":{"nodes":[{"type":"CLIPTextEncode","pos":[926,1727],"size":{"0":400,"1":200},"flags":{},"order":28,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["long red hair, "],"index":0},{"type":"CLIPTextEncode","pos":[926,1977],"size":{"0":400,"1":200},"flags":{},"order":29,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(worst quality, low quality, normal quality, lowres, low details, oversaturated, undersaturated, overexposed, underexposed, grayscale, bw, bad photo, bad photography, bad art:1.4)"],"index":1}],"links":[[null,1,0,0,191,"CLIP"],[null,1,1,0,191,"CLIP"]],"external":[[0,0,"CONDITIONING"],[1,0,"CONDITIONING"]]}},"ds":{"scale":0.7972024500000005,"offset":[-757.9792831451782,-1141.945083591477]},"workspace_info":{"id":"d9f2f266-4d62-49ca-9238-b8e9e7f757ca","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}