{"last_node_id":24,"last_link_id":26,"nodes":[{"id":18,"type":"FaceEmbedDistance","pos":[1410,90],"size":{"0":315,"1":170},"flags":{},"order":10,"mode":0,"inputs":[{"name":"analysis_models","type":"ANALYSIS_MODELS","link":19},{"name":"reference","type":"IMAGE","link":20},{"name":"image","type":"IMAGE","link":21}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[24],"shape":3,"slot_index":0},{"name":"distance","type":"FLOAT","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"FaceEmbedDistance"},"widgets_values":["cosine",100,0,true]},{"id":17,"type":"FaceBoundingBox","pos":[1070,190],"size":{"0":315,"1":186},"flags":{},"order":7,"mode":0,"inputs":[{"name":"analysis_models","type":"ANALYSIS_MODELS","link":17},{"name":"image","type":"IMAGE","link":18}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21],"shape":6,"slot_index":0},{"name":"x","type":"INT","links":null,"shape":6},{"name":"y","type":"INT","links":null,"shape":6},{"name":"width","type":"INT","links":null,"shape":6},{"name":"height","type":"INT","links":null,"shape":6}],"properties":{"Node name for S&R":"FaceBoundingBox"},"widgets_values":[100,0,-1]},{"id":21,"type":"PreviewImage","pos":[1740,260],"size":{"0":210,"1":250},"flags":{},"order":11,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":24}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":12,"type":"LoadImage","pos":[30,730],"size":{"0":320,"1":314},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[11,20],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Face To Swap - Load Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["CYBER5 (1).jpg","image"]},{"id":16,"type":"FaceAnalysisModels","pos":[730,90],"size":{"0":315,"1":82},"flags":{},"order":1,"mode":0,"outputs":[{"name":"ANALYSIS_MODELS","type":"ANALYSIS_MODELS","links":[17,19],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FaceAnalysisModels"},"widgets_values":["insightface","CPU"]},{"id":11,"type":"ReActorFaceSwap","pos":[390,720],"size":{"0":315,"1":338},"flags":{},"order":3,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":10},{"name":"source_image","type":"IMAGE","link":11,"slot_index":1},{"name":"face_model","type":"FACE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[13],"shape":3,"slot_index":0},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GPEN-BFR-512.onnx",1,1,"no","no","0","0",1]},{"id":15,"type":"PreviewImage","pos":[1112,597],"size":{"0":410,"1":450},"flags":{},"order":4,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":16}],"title":"Input Image - Preview Image","properties":{"Node name for S&R":"PreviewImage"}},{"id":23,"type":"PreviewImage","pos":[1007,1107],"size":[380.4064582203589,378.5661923628729],"flags":{},"order":8,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":25}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":24,"type":"PreviewImage","pos":[1437,1109],"size":[368.1698045949204,401.4170821211769],"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":26}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":10,"type":"LoadImage","pos":[30,350],"size":{"0":320,"1":314},"flags":{},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[10,14,16],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Destination Image - Load Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["00055-625269122.png","image"]},{"id":13,"type":"ReActorMaskHelper","pos":[730,610],"size":{"0":330,"1":454},"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":14},{"name":"swapped_image","type":"IMAGE","link":13},{"name":"mask_optional","type":"MASK","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[15,18],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3},{"name":"MASK_PREVIEW","type":"IMAGE","links":[25],"shape":3,"slot_index":2},{"name":"SWAPPED_FACE","type":"IMAGE","links":[26],"shape":3,"slot_index":3}],"properties":{"Node name for S&R":"ReActorMaskHelper"},"widgets_values":["bbox/face_yolov8n_v2.pt",0.5,10,3,10,"sam_vit_b_01ec64.pth",0,0.93,0,0.7,"False","dilate",0,9,1]},{"id":14,"type":"PreviewImage","pos":[1553,604],"size":{"0":430,"1":450},"flags":{},"order":6,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":15}],"title":"Output Image - Preview Image","properties":{"Node name for S&R":"PreviewImage"}}],"links":[[10,10,0,11,0,"IMAGE"],[11,12,0,11,1,"IMAGE"],[13,11,0,13,1,"IMAGE"],[14,10,0,13,0,"IMAGE"],[15,13,0,14,0,"IMAGE"],[16,10,0,15,0,"IMAGE"],[17,16,0,17,0,"ANALYSIS_MODELS"],[18,13,0,17,1,"IMAGE"],[19,16,0,18,0,"ANALYSIS_MODELS"],[20,12,0,18,1,"IMAGE"],[21,17,0,18,2,"IMAGE"],[24,18,0,21,0,"IMAGE"],[25,13,2,23,0,"IMAGE"],[26,13,3,24,0,"IMAGE"]],"groups":[],"config":{},"extra":{"ds":{"scale":0.7972024500000026,"offset":[-96.64273816405868,-401.7762466596239]},"info":{"name":"face-swap-reactor-workflow","author":"","description":"","version":"1","created":"2024-06-05T07:03:50.417Z","modified":"2024-06-05T07:21:03.794Z","software":"ComfyUI"},"workspace_info":{"id":"33f0a9e3-41d1-4f05-b190-c23bc81ba460"}},"version":0.4}