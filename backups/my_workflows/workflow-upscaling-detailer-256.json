{"last_node_id":48,"last_link_id":84,"nodes":[{"id":29,"type":"ImpactSEGSConcat","pos":[1390,750],"size":{"0":140,"1":70},"flags":{},"order":18,"mode":0,"inputs":[{"name":"segs1","type":"SEGS","link":50},{"name":"segs2","type":"SEGS","link":51,"slot_index":1},{"name":"segs3","type":"SEGS","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[52],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSEGSConcat"}},{"id":31,"type":"Reroute","pos":[1170,730],"size":[75,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":61}],"outputs":[{"name":"","type":"IMAGE","links":[59,60],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":16,"type":"PreviewImage","pos":[2480,730],"size":{"0":610,"1":770},"flags":{},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":20}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":28,"type":"SEGSPreview","pos":[1300,910],"size":[320,310],"flags":{},"order":19,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":46,"slot_index":0},{"name":"fallback_image_opt","type":"IMAGE","link":59,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.1]},{"id":33,"type":"Image Comparer (rgthree)","pos":{"0":3123.333251953125,"1":730,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":920,"1":930},"flags":{},"order":25,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":65,"dir":3},{"name":"image_b","type":"IMAGE","link":63,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/view?filename=rgthree.compare._temp_bvicb_00007_.png&type=temp&subfolder=&rand=0.7397718118141937"},{"name":"B","selected":true,"url":"/view?filename=rgthree.compare._temp_bvicb_00008_.png&type=temp&subfolder=&rand=0.17403296672074653"}]]},{"id":34,"type":"Reroute","pos":[3060,310],"size":[75,26],"flags":{},"order":6,"mode":0,"inputs":[{"name":"","type":"*","link":64}],"outputs":[{"name":"","type":"IMAGE","links":[65],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":35,"type":"ImageResize+","pos":[4076.666666666667,730],"size":{"0":320,"1":220},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":66}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[67],"shape":3,"slot_index":0},{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[768,768,"lanczos","keep proportion","always",0]},{"id":36,"type":"PreviewImage","pos":[4430,730],"size":{"0":210,"1":250},"flags":{},"order":27,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":67}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":32,"type":"SAMLoader","pos":[-64.44444444444456,1328.000000000001],"size":{"0":320,"1":80},"flags":{},"order":0,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[62],"shape":3}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":20,"type":"Reroute","pos":[475.5555555555553,1358.000000000001],"size":[75,26],"flags":{},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":28}],"outputs":[{"name":"","type":"IMAGE","links":[55,56,61],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":22,"type":"ImpactSimpleDetectorSEGS","pos":[285.55555555555515,998.0000000000002],"size":{"0":320,"1":310},"flags":{},"order":8,"mode":0,"inputs":[{"name":"bbox_detector","type":"BBOX_DETECTOR","link":35,"slot_index":0},{"name":"image","type":"IMAGE","link":34,"slot_index":1},{"name":"sam_model_opt","type":"SAM_MODEL","link":62,"slot_index":2},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[43,53],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactSimpleDetectorSEGS"},"widgets_values":[0.5,0,3,10,0.5,0,0,0.7000000000000001,0]},{"id":6,"type":"SEGSPreview","pos":[790,820],"size":[320,310],"flags":{},"order":17,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":39,"slot_index":0},{"name":"fallback_image_opt","type":"IMAGE","link":10,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"SEGSPreview"},"widgets_values":[true,0.1]},{"id":2,"type":"LoadImage","pos":[-74.44444444444461,817.9999999999987],"size":[320,310],"flags":{},"order":1,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[8,34,64,75],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["512x512_0_rachel-cook_4726.png","image"]},{"id":43,"type":"Reroute","pos":[1602.7975383693197,658.2474754346908],"size":[75,26],"flags":{},"order":7,"mode":0,"inputs":[{"name":"","type":"*","link":75}],"outputs":[{"name":"","type":"IMAGE","links":[76],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":24,"type":"UltralyticsDetectorProvider","pos":[-74.44444444444461,1468.000000000001],"size":{"0":320,"1":80},"flags":{},"order":3,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[35],"shape":3},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/person_yolov8m-seg.pt"]},{"id":10,"type":"DetailerForEachDebugPipe","pos":[1970,730],"size":{"0":410,"1":780},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":60,"slot_index":0},{"name":"segs","type":"SEGS","link":52},{"name":"basic_pipe","type":"BASIC_PIPE","link":81},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null},{"name":"refiner_basic_pipe_opt","type":"BASIC_PIPE","link":null},{"name":"scheduler_func_opt","type":"SCHEDULER_FUNC","link":null}],"outputs":[{"name":"image","type":"IMAGE","links":[20,63,66],"shape":3,"slot_index":0},{"name":"segs","type":"SEGS","links":null,"shape":3},{"name":"basic_pipe","type":"BASIC_PIPE","links":null,"shape":3},{"name":"cropped","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6},{"name":"cropped_refined_alpha","type":"IMAGE","links":null,"shape":6},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6}],"properties":{"Node name for S&R":"DetailerForEachDebugPipe"},"widgets_values":[64,true,1024,522790177337683,"fixed",20,8,"dpmpp_2m_sde_gpu","karras",0.25,10,true,true,"",0.2,1,true,20]},{"id":19,"type":"workflow/MAKE_BASIC_PIPE","pos":[1220,1290],"size":{"0":450,"1":160},"flags":{},"order":4,"mode":0,"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[71],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"workflow/MAKE_BASIC_PIPE"},"widgets_values":["analogMadness_v70.safetensors","4k, hdr, cropped, photograph, 8k, highres, high quality, raw photo","deformed, blurry, pixelated, bad quality, jpeg artifacts, compression, bad photo, lowres, \n"]},{"id":9,"type":"ImageScaleBy","pos":[285.55555555555515,817.9999999999987],"size":{"0":320,"1":80},"flags":{},"order":5,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":8,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[10,28],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",4]},{"id":26,"type":"ImpactMakeTileSEGS","pos":[740,1350],"size":{"0":320,"1":220},"flags":{},"order":13,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":55,"slot_index":0},{"name":"filter_in_segs_opt","type":"SEGS","link":null,"slot_index":1},{"name":"filter_out_segs_opt","type":"SEGS","link":43}],"outputs":[{"name":"SEGS","type":"SEGS","links":[39,50],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactMakeTileSEGS"},"widgets_values":[512,1.5,20,10,0,"Reuse fast"],"color":"#322","bgcolor":"#533"},{"id":27,"type":"ImpactMakeTileSEGS","pos":[740,1640],"size":{"0":320,"1":220},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":56,"slot_index":0},{"name":"filter_in_segs_opt","type":"SEGS","link":53,"slot_index":1},{"name":"filter_out_segs_opt","type":"SEGS","link":null}],"outputs":[{"name":"SEGS","type":"SEGS","links":[46,51],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactMakeTileSEGS"},"widgets_values":[1024,1.5,20,80,0,"Reuse fast"],"color":"#322","bgcolor":"#533"},{"id":46,"type":"Reroute","pos":[1750,650],"size":[124,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":80}],"outputs":[{"name":"BASIC_PIPE","type":"BASIC_PIPE","links":[81],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":45,"type":"Reroute","pos":[2420,1560],"size":[124,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":79}],"outputs":[{"name":"BASIC_PIPE","type":"BASIC_PIPE","links":[80],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":44,"type":"EditBasicPipe","pos":[2110,1640],"size":{"0":270,"1":130},"flags":{},"order":20,"mode":0,"inputs":[{"name":"basic_pipe","type":"BASIC_PIPE","link":77},{"name":"model","type":"MODEL","link":84},{"name":"clip","type":"CLIP","link":null},{"name":"vae","type":"VAE","link":null},{"name":"positive","type":"CONDITIONING","link":78},{"name":"negative","type":"CONDITIONING","link":null}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[79],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EditBasicPipe"}},{"id":41,"type":"ControlNetApply","pos":[1770,1650],"size":{"0":320,"1":100},"flags":{},"order":12,"mode":4,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":74},{"name":"control_net","type":"CONTROL_NET","link":72,"slot_index":1},{"name":"image","type":"IMAGE","link":76}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[78],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[1]},{"id":40,"type":"FromBasicPipe_v2","pos":[1480,1640],"size":{"0":270,"1":130},"flags":{},"order":9,"mode":0,"inputs":[{"name":"basic_pipe","type":"BASIC_PIPE","link":71}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[77],"shape":3,"slot_index":0},{"name":"model","type":"MODEL","links":[82],"shape":3,"slot_index":1},{"name":"clip","type":"CLIP","links":null,"shape":3},{"name":"vae","type":"VAE","links":null,"shape":3},{"name":"positive","type":"CONDITIONING","links":[74],"shape":3,"slot_index":4},{"name":"negative","type":"CONDITIONING","links":null,"shape":3}],"properties":{"Node name for S&R":"FromBasicPipe_v2"}},{"id":42,"type":"ControlNetLoader","pos":[1240,1830],"size":{"0":530,"1":70},"flags":{},"order":2,"mode":4,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[72],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["SDXL/TTPLANET_Controlnet_Tile_realistic_v2_fp16.safetensors"]},{"id":48,"type":"DifferentialDiffusion","pos":[2160,1860],"size":{"0":210,"1":30},"flags":{},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":83}],"outputs":[{"name":"MODEL","type":"MODEL","links":[84],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":47,"type":"SelfAttentionGuidance","pos":[1810,1840],"size":{"0":320,"1":80},"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":82}],"outputs":[{"name":"MODEL","type":"MODEL","links":[83],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SelfAttentionGuidance"},"widgets_values":[0.5,2]}],"links":[[8,2,0,9,0,"IMAGE"],[10,9,0,6,1,"IMAGE"],[20,10,0,16,0,"IMAGE"],[28,9,0,20,0,"*"],[34,2,0,22,1,"IMAGE"],[35,24,0,22,0,"BBOX_DETECTOR"],[39,26,0,6,0,"SEGS"],[43,22,0,26,2,"SEGS"],[46,27,0,28,0,"SEGS"],[50,26,0,29,0,"SEGS"],[51,27,0,29,1,"SEGS"],[52,29,0,10,1,"SEGS"],[53,22,0,27,1,"SEGS"],[55,20,0,26,0,"IMAGE"],[56,20,0,27,0,"IMAGE"],[59,31,0,28,1,"IMAGE"],[60,31,0,10,0,"IMAGE"],[61,20,0,31,0,"*"],[62,32,0,22,2,"SAM_MODEL"],[63,10,0,33,1,"IMAGE"],[64,2,0,34,0,"*"],[65,34,0,33,0,"IMAGE"],[66,10,0,35,0,"IMAGE"],[67,35,0,36,0,"IMAGE"],[71,19,0,40,0,"BASIC_PIPE"],[72,42,0,41,1,"CONTROL_NET"],[74,40,4,41,0,"CONDITIONING"],[75,2,0,43,0,"*"],[76,43,0,41,2,"IMAGE"],[77,40,0,44,0,"BASIC_PIPE"],[78,41,0,44,4,"CONDITIONING"],[79,44,0,45,0,"*"],[80,45,0,46,0,"*"],[81,46,0,10,2,"BASIC_PIPE"],[82,40,1,47,0,"MODEL"],[83,47,0,48,0,"MODEL"],[84,48,0,44,1,"MODEL"]],"groups":[],"config":{},"extra":{"groupNodes":{"MAKE_BASIC_PIPE":{"nodes":[{"type":"CheckpointLoaderSimple","pos":[-80,1100],"size":{"0":315,"1":98},"flags":{},"order":0,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SD1.5/majicmixRealistic_v7.safetensors"],"index":0},{"type":"CLIPTextEncode","pos":[455,1026],"size":{"0":210,"1":104.50106048583984},"flags":{},"order":2,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["photograph, 4k, hdr, cropped, 1girl sit, blur hair, pink bag"],"index":1},{"type":"CLIPTextEncode","pos":[456,1239],"size":{"0":210,"1":104.50106048583984},"flags":{},"order":3,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[],"shape":3}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["deformed, blurry\n"],"index":2},{"type":"ToBasicPipe","pos":[800,1100],"size":{"0":241.79998779296875,"1":106},"flags":{},"order":5,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null},{"name":"clip","type":"CLIP","link":null,"slot_index":1},{"name":"vae","type":"VAE","link":null},{"name":"positive","type":"CONDITIONING","link":null},{"name":"negative","type":"CONDITIONING","link":null,"slot_index":4}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ToBasicPipe"},"index":3}],"links":[[0,1,1,0,11,"CLIP"],[0,1,2,0,11,"CLIP"],[0,0,3,0,11,"MODEL"],[0,1,3,1,11,"CLIP"],[0,2,3,2,11,"VAE"],[1,0,3,3,13,"CONDITIONING"],[2,0,3,4,14,"CONDITIONING"]],"external":[[3,0,"BASIC_PIPE"]]}},"workspace_info":{"id":"CJkq-oXsiR9lJelkbE3Nz"},"ds":{"scale":0.7247295000000005,"offset":[-280.0625632159351,-1264.868270927545]}},"version":0.4}