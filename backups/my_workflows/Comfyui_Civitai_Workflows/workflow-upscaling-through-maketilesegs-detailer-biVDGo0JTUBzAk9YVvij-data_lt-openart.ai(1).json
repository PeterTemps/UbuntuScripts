{
    "last_node_id": 32,
    "last_link_id": 62,
    "nodes": [
        {
            "id": 2,
            "type": "LoadImage",
            "pos": [
                -163,
                291
            ],
            "size": {
                "0": 315,
                "1": 314
            },
            "flags": {},
            "order": 0,
            "mode": 0,
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        8,
                        34
                    ],
                    "shape": 3,
                    "slot_index": 0
                },
                {
                    "name": "MASK",
                    "type": "MASK",
                    "links": null,
                    "shape": 3
                }
            ],
            "properties": {
                "Node name for S&R": "LoadImage"
            },
            "widgets_values": [
                "ComfyUI_00289_.png",
                "image"
            ]
        },
        {
            "id": 9,
            "type": "ImageScaleBy",
            "pos": [
                280,
                290
            ],
            "size": {
                "0": 315,
                "1": 82
            },
            "flags": {},
            "order": 4,
            "mode": 0,
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE",
                    "link": 8,
                    "slot_index": 0
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [
                        10,
                        28
                    ],
                    "shape": 3,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "ImageScaleBy"
            },
            "widgets_values": [
                "nearest-exact",
                2
            ]
        },
        {
            "id": 29,
            "type": "ImpactSEGSConcat",
            "pos": [
                1390,
                750
            ],
            "size": {
                "0": 140,
                "1": 66
            },
            "flags": {},
            "order": 11,
            "mode": 0,
            "inputs": [
                {
                    "name": "segs1",
                    "type": "SEGS",
                    "link": 50
                },
                {
                    "name": "segs2",
                    "type": "SEGS",
                    "link": 51,
                    "slot_index": 1
                },
                {
                    "name": "segs3",
                    "type": "SEGS",
                    "link": null
                }
            ],
            "outputs": [
                {
                    "name": "SEGS",
                    "type": "SEGS",
                    "links": [
                        52
                    ],
                    "shape": 3,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "ImpactSEGSConcat"
            }
        },
        {
            "id": 20,
            "type": "Reroute",
            "pos": [
                660,
                730
            ],
            "size": [
                75,
                26
            ],
            "flags": {},
            "order": 6,
            "mode": 0,
            "inputs": [
                {
                    "name": "",
                    "type": "*",
                    "link": 28
                }
            ],
            "outputs": [
                {
                    "name": "",
                    "type": "IMAGE",
                    "links": [
                        55,
                        56,
                        61
                    ],
                    "slot_index": 0
                }
            ],
            "properties": {
                "showOutputText": false,
                "horizontal": false
            }
        },
        {
            "id": 31,
            "type": "Reroute",
            "pos": [
                1170,
                730
            ],
            "size": [
                75,
                26
            ],
            "flags": {},
            "order": 9,
            "mode": 0,
            "inputs": [
                {
                    "name": "",
                    "type": "*",
                    "link": 61
                }
            ],
            "outputs": [
                {
                    "name": "",
                    "type": "IMAGE",
                    "links": [
                        59,
                        60
                    ],
                    "slot_index": 0
                }
            ],
            "properties": {
                "showOutputText": false,
                "horizontal": false
            }
        },
        {
            "id": 19,
            "type": "workflow/MAKE_BASIC_PIPE",
            "pos": [
                1300,
                1310
            ],
            "size": {
                "0": 440,
                "1": 170
            },
            "flags": {},
            "order": 1,
            "mode": 0,
            "outputs": [
                {
                    "name": "basic_pipe",
                    "type": "BASIC_PIPE",
                    "links": [
                        27
                    ],
                    "shape": 3
                }
            ],
            "properties": {
                "Node name for S&R": "workflow/MAKE_BASIC_PIPE"
            },
            "widgets_values": [
                "SDXL/MOHAWK_v20BackedVAE.safetensors",
                "4k, hdr, cropped, 1girl, lean pink wall, blur hair, pink bag, photograph",
                "deformed, blurry\n"
            ]
        },
        {
            "id": 6,
            "type": "SEGSPreview",
            "pos": [
                1290,
                270
            ],
            "size": {
                "0": 315,
                "1": 314
            },
            "flags": {},
            "order": 10,
            "mode": 0,
            "inputs": [
                {
                    "name": "segs",
                    "type": "SEGS",
                    "link": 39,
                    "slot_index": 0
                },
                {
                    "name": "fallback_image_opt",
                    "type": "IMAGE",
                    "link": 10,
                    "slot_index": 1
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [],
                    "shape": 6,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "SEGSPreview"
            },
            "widgets_values": [
                true,
                0.1
            ]
        },
        {
            "id": 32,
            "type": "SAMLoader",
            "pos": [
                -160,
                840
            ],
            "size": {
                "0": 315,
                "1": 82
            },
            "flags": {},
            "order": 2,
            "mode": 0,
            "outputs": [
                {
                    "name": "SAM_MODEL",
                    "type": "SAM_MODEL",
                    "links": [
                        62
                    ],
                    "shape": 3
                }
            ],
            "properties": {
                "Node name for S&R": "SAMLoader"
            },
            "widgets_values": [
                "sam_vit_b_01ec64.pth",
                "AUTO"
            ]
        },
        {
            "id": 24,
            "type": "UltralyticsDetectorProvider",
            "pos": [
                -160,
                700
            ],
            "size": {
                "0": 315,
                "1": 78
            },
            "flags": {},
            "order": 3,
            "mode": 0,
            "outputs": [
                {
                    "name": "BBOX_DETECTOR",
                    "type": "BBOX_DETECTOR",
                    "links": [
                        35
                    ],
                    "shape": 3
                },
                {
                    "name": "SEGM_DETECTOR",
                    "type": "SEGM_DETECTOR",
                    "links": [],
                    "shape": 3,
                    "slot_index": 1
                }
            ],
            "properties": {
                "Node name for S&R": "UltralyticsDetectorProvider"
            },
            "widgets_values": [
                "segm/person_yolov8m-seg.pt"
            ]
        },
        {
            "id": 22,
            "type": "ImpactSimpleDetectorSEGS",
            "pos": [
                282,
                699
            ],
            "size": {
                "0": 315,
                "1": 310
            },
            "flags": {},
            "order": 5,
            "mode": 0,
            "inputs": [
                {
                    "name": "bbox_detector",
                    "type": "BBOX_DETECTOR",
                    "link": 35,
                    "slot_index": 0
                },
                {
                    "name": "image",
                    "type": "IMAGE",
                    "link": 34,
                    "slot_index": 1
                },
                {
                    "name": "sam_model_opt",
                    "type": "SAM_MODEL",
                    "link": 62,
                    "slot_index": 2
                },
                {
                    "name": "segm_detector_opt",
                    "type": "SEGM_DETECTOR",
                    "link": null
                }
            ],
            "outputs": [
                {
                    "name": "SEGS",
                    "type": "SEGS",
                    "links": [
                        43,
                        53
                    ],
                    "shape": 3,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "ImpactSimpleDetectorSEGS"
            },
            "widgets_values": [
                0.5,
                0,
                3,
                10,
                0.5,
                0,
                0,
                0.7000000000000001,
                0
            ]
        },
        {
            "id": 16,
            "type": "PreviewImage",
            "pos": [
                2480,
                730
            ],
            "size": {
                "0": 610.069580078125,
                "1": 774.6857299804688
            },
            "flags": {},
            "order": 14,
            "mode": 0,
            "inputs": [
                {
                    "name": "images",
                    "type": "IMAGE",
                    "link": 20
                }
            ],
            "properties": {
                "Node name for S&R": "PreviewImage"
            }
        },
        {
            "id": 10,
            "type": "DetailerForEachDebugPipe",
            "pos": [
                1970,
                730
            ],
            "size": {
                "0": 410,
                "1": 776
            },
            "flags": {},
            "order": 13,
            "mode": 0,
            "inputs": [
                {
                    "name": "image",
                    "type": "IMAGE",
                    "link": 60,
                    "slot_index": 0
                },
                {
                    "name": "segs",
                    "type": "SEGS",
                    "link": 52
                },
                {
                    "name": "basic_pipe",
                    "type": "BASIC_PIPE",
                    "link": 27
                },
                {
                    "name": "detailer_hook",
                    "type": "DETAILER_HOOK",
                    "link": null
                },
                {
                    "name": "refiner_basic_pipe_opt",
                    "type": "BASIC_PIPE",
                    "link": null
                }
            ],
            "outputs": [
                {
                    "name": "image",
                    "type": "IMAGE",
                    "links": [
                        20
                    ],
                    "shape": 3,
                    "slot_index": 0
                },
                {
                    "name": "segs",
                    "type": "SEGS",
                    "links": null,
                    "shape": 3
                },
                {
                    "name": "basic_pipe",
                    "type": "BASIC_PIPE",
                    "links": null,
                    "shape": 3
                },
                {
                    "name": "cropped",
                    "type": "IMAGE",
                    "links": null,
                    "shape": 6
                },
                {
                    "name": "cropped_refined",
                    "type": "IMAGE",
                    "links": null,
                    "shape": 6
                },
                {
                    "name": "cropped_refined_alpha",
                    "type": "IMAGE",
                    "links": null,
                    "shape": 6
                },
                {
                    "name": "cnet_images",
                    "type": "IMAGE",
                    "links": null,
                    "shape": 6
                }
            ],
            "properties": {
                "Node name for S&R": "DetailerForEachDebugPipe"
            },
            "widgets_values": [
                64,
                true,
                1024,
                522790177337683,
                "fixed",
                20,
                8,
                "dpmpp_2m_sde_gpu",
                "karras",
                0.45,
                10,
                true,
                true,
                "",
                0.2,
                1
            ]
        },
        {
            "id": 27,
            "type": "ImpactMakeTileSEGS",
            "pos": [
                780,
                910
            ],
            "size": {
                "0": 315,
                "1": 170
            },
            "flags": {},
            "order": 8,
            "mode": 0,
            "inputs": [
                {
                    "name": "images",
                    "type": "IMAGE",
                    "link": 56,
                    "slot_index": 0
                },
                {
                    "name": "filter_in_segs_opt",
                    "type": "SEGS",
                    "link": 53,
                    "slot_index": 1
                },
                {
                    "name": "filter_out_segs_opt",
                    "type": "SEGS",
                    "link": null
                }
            ],
            "outputs": [
                {
                    "name": "SEGS",
                    "type": "SEGS",
                    "links": [
                        46,
                        51
                    ],
                    "shape": 3,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "ImpactMakeTileSEGS"
            },
            "widgets_values": [
                1024,
                1.5,
                20,
                80
            ],
            "color": "#322",
            "bgcolor": "#533"
        },
        {
            "id": 28,
            "type": "SEGSPreview",
            "pos": [
                1300,
                910
            ],
            "size": {
                "0": 315,
                "1": 314
            },
            "flags": {},
            "order": 12,
            "mode": 0,
            "inputs": [
                {
                    "name": "segs",
                    "type": "SEGS",
                    "link": 46,
                    "slot_index": 0
                },
                {
                    "name": "fallback_image_opt",
                    "type": "IMAGE",
                    "link": 59,
                    "slot_index": 1
                }
            ],
            "outputs": [
                {
                    "name": "IMAGE",
                    "type": "IMAGE",
                    "links": [],
                    "shape": 6,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "SEGSPreview"
            },
            "widgets_values": [
                true,
                0.1
            ]
        },
        {
            "id": 26,
            "type": "ImpactMakeTileSEGS",
            "pos": [
                780,
                470
            ],
            "size": {
                "0": 315,
                "1": 170
            },
            "flags": {},
            "order": 7,
            "mode": 0,
            "inputs": [
                {
                    "name": "images",
                    "type": "IMAGE",
                    "link": 55,
                    "slot_index": 0
                },
                {
                    "name": "filter_in_segs_opt",
                    "type": "SEGS",
                    "link": null,
                    "slot_index": 1
                },
                {
                    "name": "filter_out_segs_opt",
                    "type": "SEGS",
                    "link": 43
                }
            ],
            "outputs": [
                {
                    "name": "SEGS",
                    "type": "SEGS",
                    "links": [
                        39,
                        50
                    ],
                    "shape": 3,
                    "slot_index": 0
                }
            ],
            "properties": {
                "Node name for S&R": "ImpactMakeTileSEGS"
            },
            "widgets_values": [
                512,
                1.5,
                20,
                10
            ],
            "color": "#322",
            "bgcolor": "#533"
        }
    ],
    "links": [
        [
            8,
            2,
            0,
            9,
            0,
            "IMAGE"
        ],
        [
            10,
            9,
            0,
            6,
            1,
            "IMAGE"
        ],
        [
            20,
            10,
            0,
            16,
            0,
            "IMAGE"
        ],
        [
            27,
            19,
            0,
            10,
            2,
            "BASIC_PIPE"
        ],
        [
            28,
            9,
            0,
            20,
            0,
            "*"
        ],
        [
            34,
            2,
            0,
            22,
            1,
            "IMAGE"
        ],
        [
            35,
            24,
            0,
            22,
            0,
            "BBOX_DETECTOR"
        ],
        [
            39,
            26,
            0,
            6,
            0,
            "SEGS"
        ],
        [
            43,
            22,
            0,
            26,
            2,
            "SEGS"
        ],
        [
            46,
            27,
            0,
            28,
            0,
            "SEGS"
        ],
        [
            50,
            26,
            0,
            29,
            0,
            "SEGS"
        ],
        [
            51,
            27,
            0,
            29,
            1,
            "SEGS"
        ],
        [
            52,
            29,
            0,
            10,
            1,
            "SEGS"
        ],
        [
            53,
            22,
            0,
            27,
            1,
            "SEGS"
        ],
        [
            55,
            20,
            0,
            26,
            0,
            "IMAGE"
        ],
        [
            56,
            20,
            0,
            27,
            0,
            "IMAGE"
        ],
        [
            59,
            31,
            0,
            28,
            1,
            "IMAGE"
        ],
        [
            60,
            31,
            0,
            10,
            0,
            "IMAGE"
        ],
        [
            61,
            20,
            0,
            31,
            0,
            "*"
        ],
        [
            62,
            32,
            0,
            22,
            2,
            "SAM_MODEL"
        ]
    ],
    "groups": [],
    "config": {},
    "extra": {
        "groupNodes": {
            "MAKE_BASIC_PIPE": {
                "nodes": [
                    {
                        "type": "CheckpointLoaderSimple",
                        "pos": [
                            -80,
                            1100
                        ],
                        "size": {
                            "0": 315,
                            "1": 98
                        },
                        "flags": {},
                        "order": 0,
                        "mode": 0,
                        "outputs": [
                            {
                                "name": "MODEL",
                                "type": "MODEL",
                                "links": [],
                                "shape": 3,
                                "slot_index": 0
                            },
                            {
                                "name": "CLIP",
                                "type": "CLIP",
                                "links": [],
                                "shape": 3,
                                "slot_index": 1
                            },
                            {
                                "name": "VAE",
                                "type": "VAE",
                                "links": [],
                                "shape": 3,
                                "slot_index": 2
                            }
                        ],
                        "properties": {
                            "Node name for S&R": "CheckpointLoaderSimple"
                        },
                        "widgets_values": [
                            "SD1.5/majicmixRealistic_v7.safetensors"
                        ],
                        "index": 0
                    },
                    {
                        "type": "CLIPTextEncode",
                        "pos": [
                            455,
                            1026
                        ],
                        "size": {
                            "0": 210,
                            "1": 104.50106048583984
                        },
                        "flags": {},
                        "order": 2,
                        "mode": 0,
                        "inputs": [
                            {
                                "name": "clip",
                                "type": "CLIP",
                                "link": null
                            }
                        ],
                        "outputs": [
                            {
                                "name": "CONDITIONING",
                                "type": "CONDITIONING",
                                "links": [],
                                "shape": 3,
                                "slot_index": 0
                            }
                        ],
                        "properties": {
                            "Node name for S&R": "CLIPTextEncode"
                        },
                        "widgets_values": [
                            "photograph, 4k, hdr, cropped, 1girl sit, blur hair, pink bag"
                        ],
                        "index": 1
                    },
                    {
                        "type": "CLIPTextEncode",
                        "pos": [
                            456,
                            1239
                        ],
                        "size": {
                            "0": 210,
                            "1": 104.50106048583984
                        },
                        "flags": {},
                        "order": 3,
                        "mode": 0,
                        "inputs": [
                            {
                                "name": "clip",
                                "type": "CLIP",
                                "link": null,
                                "slot_index": 0
                            }
                        ],
                        "outputs": [
                            {
                                "name": "CONDITIONING",
                                "type": "CONDITIONING",
                                "links": [],
                                "shape": 3
                            }
                        ],
                        "properties": {
                            "Node name for S&R": "CLIPTextEncode"
                        },
                        "widgets_values": [
                            "deformed, blurry\n"
                        ],
                        "index": 2
                    },
                    {
                        "type": "ToBasicPipe",
                        "pos": [
                            800,
                            1100
                        ],
                        "size": {
                            "0": 241.79998779296875,
                            "1": 106
                        },
                        "flags": {},
                        "order": 5,
                        "mode": 0,
                        "inputs": [
                            {
                                "name": "model",
                                "type": "MODEL",
                                "link": null
                            },
                            {
                                "name": "clip",
                                "type": "CLIP",
                                "link": null,
                                "slot_index": 1
                            },
                            {
                                "name": "vae",
                                "type": "VAE",
                                "link": null
                            },
                            {
                                "name": "positive",
                                "type": "CONDITIONING",
                                "link": null
                            },
                            {
                                "name": "negative",
                                "type": "CONDITIONING",
                                "link": null,
                                "slot_index": 4
                            }
                        ],
                        "outputs": [
                            {
                                "name": "basic_pipe",
                                "type": "BASIC_PIPE",
                                "links": [],
                                "shape": 3,
                                "slot_index": 0
                            }
                        ],
                        "properties": {
                            "Node name for S&R": "ToBasicPipe"
                        },
                        "index": 3
                    }
                ],
                "links": [
                    [
                        0,
                        1,
                        1,
                        0,
                        11,
                        "CLIP"
                    ],
                    [
                        0,
                        1,
                        2,
                        0,
                        11,
                        "CLIP"
                    ],
                    [
                        0,
                        0,
                        3,
                        0,
                        11,
                        "MODEL"
                    ],
                    [
                        0,
                        1,
                        3,
                        1,
                        11,
                        "CLIP"
                    ],
                    [
                        0,
                        2,
                        3,
                        2,
                        11,
                        "VAE"
                    ],
                    [
                        1,
                        0,
                        3,
                        3,
                        13,
                        "CONDITIONING"
                    ],
                    [
                        2,
                        0,
                        3,
                        4,
                        14,
                        "CONDITIONING"
                    ]
                ],
                "external": [
                    [
                        3,
                        0,
                        "BASIC_PIPE"
                    ]
                ]
            }
        },
        "workspace_info": {
            "id": "38dc95ac-b642-426f-b50b-043c546efd42"
        }
    },
    "version": 0.4
}