{"last_node_id":612,"last_link_id":23235,"nodes":[{"id":413,"type":"ImpactInt","pos":[920,690],"size":{"0":420,"1":60},"flags":{"pinned":true},"order":0,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[19429,19430,20215],"shape":3,"slot_index":0}],"title":"Steps","properties":{"Node name for S&R":"ImpactInt"},"widgets_values":[30],"color":"#2a363b","bgcolor":"#3f5159"},{"id":410,"type":"ImpactInt","pos":[920,800],"size":{"0":420,"1":60},"flags":{"pinned":true},"order":1,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[20212],"shape":3,"slot_index":0}],"title":"ðŸŸ¦ Canny-Injector","properties":{"Node name for S&R":"ImpactInt"},"widgets_values":[18],"color":"#2a363b","bgcolor":"#3f5159"},{"id":31,"type":"LoraLoader|pysssss","pos":[920,910],"size":{"0":420,"1":150},"flags":{"pinned":true},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":19717},{"name":"clip","type":"CLIP","link":41}],"outputs":[{"name":"MODEL","type":"MODEL","links":[19718],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[101],"shape":3,"slot_index":1}],"title":"LoRa 1","properties":{"Node name for S&R":"LoraLoader|pysssss"},"widgets_values":[{"content":"add_detail.safetensors","image":null,"title":"add_detail.safetensors"},0.8,1,"[none]"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":476,"type":"MathExpression|pysssss","pos":[1250,1500],"size":{"0":400,"1":200},"flags":{"collapsed":true,"pinned":true},"order":16,"mode":0,"inputs":[{"name":"a","type":"INT,FLOAT,IMAGE,LATENT","link":20215},{"name":"b","type":"INT,FLOAT,IMAGE,LATENT","link":20212},{"name":"c","type":"INT,FLOAT,IMAGE,LATENT","link":null}],"outputs":[{"name":"INT","type":"INT","links":[20294,20295],"shape":3,"slot_index":0},{"name":"FLOAT","type":"FLOAT","links":null,"shape":3}],"title":"Maths","properties":{"Node name for S&R":"MathExpression|pysssss"},"widgets_values":["(a-b)"],"color":"#222","bgcolor":"#000"},{"id":229,"type":"LoraLoader|pysssss","pos":[920,1110],"size":{"0":420,"1":150},"flags":{"pinned":true},"order":22,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":19718},{"name":"clip","type":"CLIP","link":101}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23217],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[18420,18845,22995],"shape":3,"slot_index":1}],"title":"LoRa 2","properties":{"Node name for S&R":"LoraLoader|pysssss"},"widgets_values":[{"content":"add_detail.safetensors","image":null,"title":"add_detail.safetensors"},0.3,1,"[none]"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":277,"type":"PreviewImage","pos":[1360,810],"size":{"0":520,"1":550},"flags":{"pinned":true},"order":46,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23086}],"title":"Likeness Injector Image","properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":219,"type":"UpscaleModelLoader","pos":[2080,50],"size":{"0":340,"1":60},"flags":{"pinned":true},"order":2,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[23009],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"color":"#432","bgcolor":"#653"},{"id":260,"type":"LoadImage","pos":[470,1360],"size":{"0":430,"1":410},"flags":{"pinned":true},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23231],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"title":"ðŸŸ¦ Image Of Yourself","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["Lethris-IRL-2.png","image"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":10,"type":"CheckpointLoader|pysssss","pos":[920,50],"size":{"0":420,"1":122},"flags":{"pinned":true,"collapsed":false},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[19717],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[41],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3}],"title":"ðŸŸ¦ Select Checkpoint","properties":{"Node name for S&R":"CheckpointLoader|pysssss"},"widgets_values":[{"content":"absolutereality_v181.safetensors","image":null,"title":"absolutereality_v181.safetensors"},"[none]"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":11,"type":"VAELoader","pos":[920,210],"size":{"0":420,"1":60},"flags":{"pinned":true},"order":5,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[36],"shape":3,"slot_index":0}],"title":"ðŸŸ¦ Select VAE","properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":507,"type":"CR Aspect Ratio","pos":[920,320],"size":{"0":420,"1":322},"flags":{"pinned":true},"order":6,"mode":0,"outputs":[{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3},{"name":"upscale_factor","type":"FLOAT","links":null,"shape":3},{"name":"prescale_factor","type":"FLOAT","links":null,"shape":3},{"name":"batch_size","type":"INT","links":null,"shape":3},{"name":"empty_latent","type":"LATENT","links":[22714],"shape":3,"slot_index":5},{"name":"show_help","type":"STRING","links":null,"shape":3}],"title":"ðŸŸ¦ Aspect Ratio (includes SD and SDXL)","properties":{"Node name for S&R":"CR Aspect Ratio"},"widgets_values":[1024,1024,"SD1.5 - 3:4 portrait 512x682","Off",1,1,1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":254,"type":"PreviewImage","pos":[1360,1410],"size":{"0":1060,"1":1060},"flags":{"pinned":true,"collapsed":false},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23015}],"title":"Final Image","properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":236,"type":"Reroute","pos":[1199.2693915909235,1871.7008311919824],"size":[75,26],"flags":{"pinned":true},"order":29,"mode":0,"inputs":[{"name":"","type":"*","link":22995,"label":"Clip"}],"outputs":[{"name":"","type":"CLIP","links":[23160,23162],"slot_index":0,"label":"Clip"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#222","bgcolor":"#000"},{"id":247,"type":"Reroute","pos":[1199.2693915909235,1911.7008311919824],"size":[75,26],"flags":{"pinned":true},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":23158,"label":"Negative"}],"outputs":[{"name":"","type":"CONDITIONING","links":[22990],"label":"Negative","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#222","bgcolor":"#000"},{"id":13,"type":"PreviewImage","pos":[1900,810],"size":{"0":520,"1":550},"flags":{"pinned":true},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23091}],"title":"Merger Preview Image","properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":233,"type":"ConditioningCombine","pos":[1119.2693915909235,2021.7008311919822],"size":{"0":230,"1":50},"flags":{"collapsed":true,"pinned":true},"order":37,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":22986,"slot_index":0,"label":"Negative"},{"name":"conditioning_2","type":"CONDITIONING","link":23161}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[23158],"shape":3,"slot_index":0}],"title":"Negative Combine","properties":{"Node name for S&R":"ConditioningCombine"},"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":561,"type":"ReActorFaceSwap","pos":[920,1310],"size":{"0":420,"1":338},"flags":{"pinned":true},"order":51,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":23088},{"name":"source_image","type":"IMAGE","link":23122},{"name":"face_model","type":"FACE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23091,23147],"shape":3,"slot_index":0},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3}],"title":"ðŸŸ¦ Likeness ReActor Optional Stage 2","properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","YOLOv5n","codeformer.pth",1,0.5,"no","no","0","0",1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":218,"type":"UltimateSDUpscale","pos":[2080,150],"size":{"0":340,"1":614},"flags":{"pinned":true},"order":53,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":23147},{"name":"model","type":"MODEL","link":23185,"slot_index":1},{"name":"positive","type":"CONDITIONING","link":23012},{"name":"negative","type":"CONDITIONING","link":23013},{"name":"vae","type":"VAE","link":23014},{"name":"upscale_model","type":"UPSCALE_MODEL","link":23009,"slot_index":5}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23015],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[2,0,"fixed",20,10,"euler_ancestral","exponential",0.25,"Linear",512,512,8,32,"None",1,64,8,16,false,false],"color":"#432","bgcolor":"#653"},{"id":501,"type":"Image Overlay","pos":[1139,1742],"size":{"0":315,"1":290},"flags":{"collapsed":true,"pinned":true},"order":36,"mode":0,"inputs":[{"name":"base_image","type":"IMAGE","link":23141},{"name":"overlay_image","type":"IMAGE","link":23148},{"name":"optional_mask","type":"MASK","link":23149}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23084,23122,23173,23215,23235],"shape":3,"slot_index":0,"label":"Output Image"}],"properties":{"Node name for S&R":"Image Overlay"},"widgets_values":["None","nearest-exact",1,512,512,0,0,0,0],"color":"#222","bgcolor":"#000","shape":1},{"id":573,"type":"SegmDetectorCombined_v2","pos":[969,1862],"size":{"0":315,"1":102},"flags":{"collapsed":true,"pinned":true},"order":21,"mode":0,"inputs":[{"name":"segm_detector","type":"SEGM_DETECTOR","link":23123},{"name":"image","type":"IMAGE","link":23133,"slot_index":1}],"outputs":[{"name":"MASK","type":"MASK","links":[23146],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SegmDetectorCombined_v2"},"widgets_values":[0.5,0],"color":"#222","bgcolor":"#000"},{"id":492,"type":"MaskToImage","pos":[969,1903],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":30,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":23000}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23148],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"color":"#222","bgcolor":"#000"},{"id":497,"type":"FeatherMask","pos":[969,1942],"size":{"0":315,"1":130},"flags":{"pinned":true,"collapsed":true},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":23146}],"outputs":[{"name":"MASK","type":"MASK","links":[23000,23149],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FeatherMask"},"widgets_values":[10,10,10,10],"color":"#222","bgcolor":"#000"},{"id":246,"type":"Reroute","pos":[1109,1912],"size":[75,26],"flags":{"pinned":true},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":23159,"label":"Positive"}],"outputs":[{"name":"","type":"CONDITIONING","links":[22989],"label":"Positive","slot_index":0}],"properties":{"showOutputText":false,"horizontal":false,"showTitle":false},"color":"#222","bgcolor":"#000"},{"id":250,"type":"Reroute","pos":[1200,1750],"size":[75,26],"flags":{"pinned":true},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":22992,"label":"Negative"}],"outputs":[{"name":"","type":"CONDITIONING","links":[22986],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#222","bgcolor":"#000"},{"id":220,"type":"VAEDecode","pos":[1149,1822],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":50,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":23024},{"name":"vae","type":"VAE","link":23017}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23088],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#222","bgcolor":"#000"},{"id":287,"type":"HighRes-Fix Script","pos":[970,1820],"size":[330,250],"flags":{"collapsed":true,"pinned":true},"order":7,"mode":0,"inputs":[{"name":"script","type":"SCRIPT","link":null}],"outputs":[{"name":"SCRIPT","type":"SCRIPT","links":[17459],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"HighRes-Fix Script"},"widgets_values":["latent","(use same)","nearest-exact","001_classicalSR_DF2K_s64w8_SwinIR-M_x2.pth",1.25,true,-1,null,12,0.45,1,false,"ControlNet-LLLite\\controllllite_v01032064e_sdxl_canny_anime.safetensors",1,"CannyEdgePreprocessor",false],"color":"#222","bgcolor":"#000","shape":1},{"id":503,"type":"VAEEncode","pos":[969,1742],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":47,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":23087},{"name":"vae","type":"VAE","link":20957}],"outputs":[{"name":"LATENT","type":"LATENT","links":[21123],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#222","bgcolor":"#000"},{"id":280,"type":"VAEEncode","pos":[970,1780],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":48,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":23230},{"name":"vae","type":"VAE","link":6841}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#222","bgcolor":"#000"},{"id":381,"type":"Reroute","pos":[1110,1750],"size":[75,26],"flags":{"pinned":true},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":23231,"label":"Input Image","slot_index":0}],"outputs":[{"name":"","type":"IMAGE","links":[23133,23141],"slot_index":0,"label":"Face Extractor"}],"properties":{"showOutputText":false,"horizontal":false},"color":"#222","bgcolor":"#000"},{"id":593,"type":"IPAdapterInsightFaceLoader","pos":[20,1030],"size":{"0":430,"1":60},"flags":{"pinned":true},"order":8,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[23165,23169],"shape":3,"slot_index":0}],"title":"ðŸŸª Avatar / Likeness shared Provider","properties":{"Node name for S&R":"IPAdapterInsightFaceLoader"},"widgets_values":["CPU"],"color":"#323","bgcolor":"#535"},{"id":226,"type":"IPAdapterModelLoader","pos":[20,1140],"size":{"0":430,"1":60},"flags":{"collapsed":false,"pinned":true},"order":9,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[23218],"shape":3}],"title":"ðŸŸª Avatar IP Adapter (Standard Plus)","properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter_sdxl.safetensors"],"color":"#323","bgcolor":"#535"},{"id":588,"type":"CLIPTextEncode","pos":[969,1982],"size":{"0":430,"1":210},"flags":{"pinned":true,"collapsed":true},"order":35,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":23162}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[23163],"slot_index":0}],"title":"Positive Styler","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["RAW candid cinema, 16mm, color graded portra 400 film, remarkable color, ultra realistic, textured skin, remarkable detailed pupils, realistic dull skin noise, visible skin detail, skin fuzz, dry skin, shot with cinematic camera"],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":589,"type":"CLIPTextEncode","pos":[969,2022],"size":{"0":442.2680969238281,"1":149.45021057128906},"flags":{"pinned":true,"collapsed":true},"order":34,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":23160}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[23161],"slot_index":0}],"title":"Negative Styler","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["canvas frame, (high contrast:1.2), (over saturated:1.2), (glossy:1.1), cartoon, 3d, ((disfigured)), ((bad art)), ((b&w)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))), extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck))), Photoshop, video game, ugly, tiling, poorly drawn hands, 3d render"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":234,"type":"ConditioningCombine","pos":[1124,1981],"size":{"0":230,"1":50},"flags":{"collapsed":true,"pinned":true},"order":38,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":22987,"label":"Positive"},{"name":"conditioning_2","type":"CONDITIONING","link":23163}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[23159],"shape":3,"slot_index":0}],"title":"Positive Combine","properties":{"Node name for S&R":"ConditioningCombine"},"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":249,"type":"Reroute","pos":[1199,1835],"size":[75,26],"flags":{"pinned":true},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":22991,"label":"Positive"}],"outputs":[{"name":"","type":"CONDITIONING","links":[22987],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false,"showTitle":false},"color":"#222","bgcolor":"#000"},{"id":227,"type":"CLIPVisionLoader","pos":[470,1250],"size":{"0":430,"1":60},"flags":{"collapsed":false,"pinned":true},"order":10,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[23171],"shape":3,"slot_index":0}],"title":"ðŸŸª Likeness Clip Vision","properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"],"color":"#323","bgcolor":"#535"},{"id":556,"type":"LoraLoaderModelOnly","pos":[470,1120],"size":{"0":430,"1":82},"flags":{"pinned":true},"order":31,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23229}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23177],"shape":3,"slot_index":0}],"title":"ðŸŸª Likeness Lora FaceID Plus v2","properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["ipadapter\\ip-adapter-faceid-plusv2_sd15_lora.safetensors",1],"color":"#323","bgcolor":"#535"},{"id":555,"type":"CLIPVisionLoader","pos":[20,1250],"size":{"0":430,"1":60},"flags":{"collapsed":false,"pinned":true},"order":11,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[23220],"shape":3,"slot_index":0}],"title":"ðŸŸª Avatar Clip Vision","properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"],"color":"#323","bgcolor":"#535"},{"id":252,"type":"LoadImage","pos":[20,1360],"size":{"0":430,"1":410},"flags":{"pinned":true},"order":12,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21040,23225,23226],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"ðŸŸ« Image Of Your Avatar","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["pasted/image (14).png","image"],"color":"#332922","bgcolor":"#593930"},{"id":599,"type":"ShowText|pysssss","pos":[20,750],"size":{"0":430,"1":90},"flags":{"pinned":true},"order":23,"mode":0,"inputs":[{"name":"text","type":"STRING","link":23211,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"title":"Positive Suggestion Based On Image","properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","a man in a leather jacket with a moustd moustd moustd moustd moustd moustd mot"],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":12,"type":"KSampler Adv. (Efficient)","pos":[1360,50],"size":{"0":340,"1":710},"flags":{"pinned":true},"order":44,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23228,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":22989},{"name":"negative","type":"CONDITIONING","link":22990},{"name":"latent_image","type":"LATENT","link":22714},{"name":"optional_vae","type":"VAE","link":36},{"name":"script","type":"SCRIPT","link":null},{"name":"end_at_step","type":"INT","link":20294,"widget":{"name":"end_at_step"}},{"name":"steps","type":"INT","link":19429,"widget":{"name":"steps"},"slot_index":8}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[19711],"shape":3,"slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[19712],"shape":3,"slot_index":2},{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":3},{"name":"VAE","type":"VAE","links":[6841,17528,20957],"shape":3,"slot_index":4},{"name":"IMAGE","type":"IMAGE","links":[23083],"shape":3,"slot_index":5}],"title":"1st Pass Avatar","properties":{"Node name for S&R":"KSampler Adv. (Efficient)"},"widgets_values":["enable",118031512024238,null,30,6,"dpmpp_2m_sde","karras",0,10000,"enable","taesd","true"],"color":"#443322","bgcolor":"#665533","shape":1},{"id":398,"type":"KSampler Adv. (Efficient)","pos":[1722.7596503247075,45.86052451293894],"size":{"0":340,"1":710},"flags":{"pinned":true},"order":49,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23181},{"name":"positive","type":"CONDITIONING","link":19711},{"name":"negative","type":"CONDITIONING","link":19712},{"name":"latent_image","type":"LATENT","link":21123},{"name":"optional_vae","type":"VAE","link":17528},{"name":"script","type":"SCRIPT","link":17459},{"name":"start_at_step","type":"INT","link":20295,"widget":{"name":"start_at_step"},"slot_index":7},{"name":"steps","type":"INT","link":19430,"widget":{"name":"steps"}}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[23012],"shape":3,"slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[23013],"shape":3,"slot_index":2},{"name":"LATENT","type":"LATENT","links":[23024],"shape":3,"slot_index":3},{"name":"VAE","type":"VAE","links":[23014,23017],"shape":3,"slot_index":4},{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":5}],"title":"2nd Pass Likeness","properties":{"Node name for S&R":"KSampler Adv. (Efficient)"},"widgets_values":["disable",313182059139183,null,30,6,"dpmpp_2m_sde","karras",0,10000,"enable","taesd","true"],"color":"#443322","bgcolor":"#665533","shape":1},{"id":7,"type":"CLIPTextEncode","pos":[20,890],"size":{"0":430,"1":90},"flags":{"pinned":true,"collapsed":false},"order":27,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":18420}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[22992],"slot_index":0}],"title":"Negative Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark, child, child like, nsfw, wet,"],"color":"#571a1a","bgcolor":"#6b2e2e"},{"id":6,"type":"CLIPTextEncode","pos":[470,750],"size":{"0":430,"1":210},"flags":{"pinned":true,"collapsed":false},"order":28,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":18845}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[22991],"slot_index":0}],"title":"Positive Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#1a571a","bgcolor":"#2e6b2e"},{"id":271,"type":"IPAdapterModelLoader","pos":[470,1010],"size":{"0":430,"1":60},"flags":{"collapsed":false,"pinned":true},"order":13,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[23167],"shape":3}],"title":"ðŸŸª Likeness IPAdapter Model (FaceID Plus V2)","properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid-plusv2_sd15.bin"],"color":"#323","bgcolor":"#535"},{"id":179,"type":"UltralyticsDetectorProvider","pos":[970,2060],"size":{"0":430,"1":80},"flags":{"pinned":true,"collapsed":true},"order":14,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[],"shape":3,"label":"BBox-null","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[23123],"shape":3,"slot_index":1}],"title":"SEGM Detector (Face)","properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/face_yolov8n-seg2_60.pt"],"color":"#432","bgcolor":"#653"},{"id":602,"type":"IPAdapterNoise","pos":[970,2100],"size":{"0":210,"1":110},"flags":{"collapsed":true,"pinned":true},"order":20,"mode":0,"inputs":[{"name":"image_optional","type":"IMAGE","link":23226}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23227,23233],"shape":3,"slot_index":0}],"title":"Avatar Noise","properties":{"Node name for S&R":"IPAdapterNoise"},"widgets_values":["shuffle",0.33,0],"color":"#432","bgcolor":"#653"},{"id":600,"type":"IPAdapterNoise","pos":[1110,2100],"size":{"0":210,"1":110},"flags":{"collapsed":true,"pinned":true},"order":39,"mode":0,"inputs":[{"name":"image_optional","type":"IMAGE","link":23235}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23212,23234],"shape":3,"slot_index":0}],"title":"Likeness Noise","properties":{"Node name for S&R":"IPAdapterNoise"},"widgets_values":["shuffle",0.33,0],"color":"#432","bgcolor":"#653"},{"id":559,"type":"ReActorFaceSwap","pos":[970,2140],"size":{"0":430,"1":338},"flags":{"pinned":true,"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"input_image","type":"IMAGE","link":23083},{"name":"source_image","type":"IMAGE","link":23084},{"name":"face_model","type":"FACE_MODEL","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23086,23087,23230],"shape":3},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3}],"title":"Likeness ReActor Stage 1","properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","YOLOv5n","codeformer.pth",1,0.5,"no","no","0","0",1],"color":"#432","bgcolor":"#653"},{"id":281,"type":"BLIP Analyze Image","pos":[970,2180],"size":{"0":400,"1":222},"flags":{"collapsed":true,"pinned":true},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":21040},{"name":"blip_model","type":"BLIP_MODEL","link":null}],"outputs":[{"name":"STRING","type":"STRING","links":[23211],"shape":3,"slot_index":0},{"name":"STRING","type":"STRING","links":null,"shape":6}],"properties":{"Node name for S&R":"BLIP Analyze Image"},"widgets_values":["caption","What does the background consist of?",24,64,5,3,false],"color":"#432","bgcolor":"#653"},{"id":592,"type":"IPAdapterFaceID","pos":[470,1820],"size":{"0":243.60000610351562,"1":322},"flags":{"pinned":true},"order":42,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23177},{"name":"ipadapter","type":"IPADAPTER","link":23167},{"name":"image","type":"IMAGE","link":23215},{"name":"image_negative","type":"IMAGE","link":23212},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":23171},{"name":"insightface","type":"INSIGHTFACE","link":23165}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23181,23185],"shape":3,"slot_index":0},{"name":"face_image","type":"IMAGE","links":null,"shape":3}],"title":"Likeness IP Adapter FaceID v2","properties":{"Node name for S&R":"IPAdapterFaceID"},"widgets_values":[0.9500000000000001,1,"ease in","concat",0,1,"V only"],"color":"#432","bgcolor":"#653"},{"id":610,"type":"PreviewImage","pos":[720,1820],"size":{"0":180,"1":210},"flags":{"pinned":true},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23234}],"title":"Likeness Noise Patch","properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":609,"type":"PreviewImage","pos":[270,1820],"size":{"0":180,"1":210},"flags":{"pinned":true},"order":24,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23233}],"title":"Avatar Noise Patch","properties":{"Node name for S&R":"PreviewImage"},"color":"#432","bgcolor":"#653"},{"id":601,"type":"IPAdapterTiled","pos":[20,1820],"size":{"0":240,"1":302},"flags":{"pinned":true},"order":26,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":23217},{"name":"ipadapter","type":"IPADAPTER","link":23218},{"name":"image","type":"IMAGE","link":23225},{"name":"image_negative","type":"IMAGE","link":23227},{"name":"attn_mask","type":"MASK","link":null},{"name":"clip_vision","type":"CLIP_VISION","link":23220}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23228,23229],"shape":3,"slot_index":0},{"name":"tiles","type":"IMAGE","links":null,"shape":3},{"name":"masks","type":"MASK","links":null,"shape":3}],"title":"Avatar IPAdapter","properties":{"Node name for S&R":"IPAdapterTiled"},"widgets_values":[0.6,"linear","concat",0,1,0,"V only"],"color":"#432","bgcolor":"#653"},{"id":268,"type":"Note","pos":[20,50],"size":{"0":880,"1":650},"flags":{"collapsed":false,"pinned":true},"order":15,"mode":0,"title":"IRL Me My Avatar v1.6","properties":{"text":""},"widgets_values":["IRL Me My Avatar v1.6\n----------------------\n\nThis Workflow will take any game Character Avatar and a picture of you and meld them as one.\nThis version makes use of the new FaceID 2 Models - which can be found here: https://github.com/cubiq/ComfyUI_IPAdapter_plus\n\nFaceID v2 Setup:\n\nðŸŸª Avatar / Likeness shared Provider Node - This should be your devices compatible provider.\nCPU works Well enough. But if you have Cuda or ROCm - feel free to try them\n\nðŸŸª Avatar IP Adapter (Standard Plus) Node - This should be the standard \"ip-adapter-plus_sd15\" Model found in the link above.\n\nðŸŸª Avatar Clip Vision Node - This needs to be a \"Standard\" compatible Clip Vision that works with the Standard \"ip-adapter-Plus\" Model found in the link above.\n\nðŸŸª Likeness IPAdapter Model (FaceID Plus V2) Node - This should be \"ip-adapter-faceid-plusv2_sd15\" Model found in the link above.\n\nðŸŸª Likeness Lora FaceID Plus v2 Node - This should be \"ip-adapter-faceid-plusv2_sd15_lora\" Model/Lora found in the link above.\n\nðŸŸª Likeness Clip Vision Node - This needs to be a \"FaceID v2\" compatible Clip Vision model like \"CLIP-ViT-H-14-laion2B-s32B-b79K\" found in the link above.\n\nOther Settings:\n\nðŸŸ« Simply Add A 1:1 (square) Image Of your Avatar Below.\n\nðŸŸ¦ Simply Add A 1:1 (square) Image Of yourself Below.  \n\nðŸŸ¦ Select your Favourite Checkpoint and VAE (I prefer a separate VAE).  Then Finally Select your Aspect Ratio - I suggest 3:4 portrait.\n\nðŸŸ¦ Added a Canny-Injector - The Higher the number, the more it will try to inject your face onto the Avatar pre-ReActor Stage.  The number MUST stay between 1 and your maximum Steps you can set.  10-20 seems to be a good number here (if your steps are 30)\n\nðŸŸ¦ Added Likeness ReActor Optional Stage 2 - You can Enable or Disable this with the built in switch.  Disabling this Will make the final image more \"Canny you\".\n\nAlso Added a face extractor routine to help Re-Actor with Non Human type Avatars.  It kind of Works, has trouble with bald Avatars - I'll improve this over time.\n\nðŸŸ©ðŸŸ¥ The only other thing you may have to do is edit the Positive Prompt, and even then I use a Blip Node to give you a suggestion based on your Avatars image (you will have to run it at least once to get the Blip).  You could add your favourite default positive and negative prompts here, however a Prompt isn't really necessary as the IP Adapter does most of the work.\n\nThe default Setting pretty much work for everyone, there is very little tweaking required - but feel free to edit settings like Avatar IP Adapter weight if you want the image to look more or less like \"in Game\".  If you want you can choose Some LoRa's, or just set the LoRa 1 and 2 strength to 0 (I would have used switchable LoRa Nodes, but I like pysssss's LoRa Node, It has better File structures and previews)\n\nEnjoy x - Lord_Lethris (twitch.tv)"],"color":"#432","bgcolor":"#653"}],"links":[[36,11,0,12,4,"VAE"],[41,10,1,31,1,"CLIP"],[101,31,1,229,1,"CLIP"],[6841,12,4,280,1,"VAE"],[17459,287,0,398,5,"SCRIPT"],[17528,12,4,398,4,"VAE"],[18420,229,1,7,0,"CLIP"],[18845,229,1,6,0,"CLIP"],[19429,413,0,12,7,"INT"],[19430,413,0,398,7,"INT"],[19711,12,1,398,1,"CONDITIONING"],[19712,12,2,398,2,"CONDITIONING"],[19717,10,0,31,0,"MODEL"],[19718,31,0,229,0,"MODEL"],[20212,410,0,476,1,"INT,FLOAT,IMAGE,LATENT"],[20215,413,0,476,0,"INT,FLOAT,IMAGE,LATENT"],[20294,476,0,12,6,"INT"],[20295,476,0,398,6,"INT"],[20957,12,4,503,1,"VAE"],[21040,252,0,281,0,"IMAGE"],[21123,503,0,398,3,"LATENT"],[22714,507,5,12,3,"LATENT"],[22986,250,0,233,0,"CONDITIONING"],[22987,249,0,234,0,"CONDITIONING"],[22989,246,0,12,1,"CONDITIONING"],[22990,247,0,12,2,"CONDITIONING"],[22991,6,0,249,0,"*"],[22992,7,0,250,0,"*"],[22995,229,1,236,0,"*"],[23000,497,0,492,0,"MASK"],[23009,219,0,218,5,"UPSCALE_MODEL"],[23012,398,1,218,2,"CONDITIONING"],[23013,398,2,218,3,"CONDITIONING"],[23014,398,4,218,4,"VAE"],[23015,218,0,254,0,"IMAGE"],[23017,398,4,220,1,"VAE"],[23024,398,3,220,0,"LATENT"],[23083,12,5,559,0,"IMAGE"],[23084,501,0,559,1,"IMAGE"],[23086,559,0,277,0,"IMAGE"],[23087,559,0,503,0,"IMAGE"],[23088,220,0,561,0,"IMAGE"],[23091,561,0,13,0,"IMAGE"],[23122,501,0,561,1,"IMAGE"],[23123,179,1,573,0,"SEGM_DETECTOR"],[23133,381,0,573,1,"IMAGE"],[23141,381,0,501,0,"IMAGE"],[23146,573,0,497,0,"MASK"],[23147,561,0,218,0,"IMAGE"],[23148,492,0,501,1,"IMAGE"],[23149,497,0,501,2,"MASK"],[23158,233,0,247,0,"*"],[23159,234,0,246,0,"*"],[23160,236,0,589,0,"CLIP"],[23161,589,0,233,1,"CONDITIONING"],[23162,236,0,588,0,"CLIP"],[23163,588,0,234,1,"CONDITIONING"],[23165,593,0,592,6,"INSIGHTFACE"],[23167,271,0,592,1,"IPADAPTER"],[23169,593,0,554,2,"INSIGHTFACE"],[23171,227,0,592,5,"CLIP_VISION"],[23173,501,0,557,3,"IMAGE"],[23177,556,0,592,0,"MODEL"],[23181,592,0,398,0,"MODEL"],[23185,592,0,218,1,"MODEL"],[23211,281,0,599,0,"STRING"],[23212,600,0,592,3,"IMAGE"],[23215,501,0,592,2,"IMAGE"],[23217,229,0,601,0,"MODEL"],[23218,226,0,601,1,"IPADAPTER"],[23220,555,0,601,5,"CLIP_VISION"],[23225,252,0,601,2,"IMAGE"],[23226,252,0,602,0,"IMAGE"],[23227,602,0,601,3,"IMAGE"],[23228,601,0,12,0,"MODEL"],[23229,601,0,556,0,"MODEL"],[23230,559,0,280,0,"IMAGE"],[23231,260,0,381,0,"*"],[23233,602,0,609,0,"IMAGE"],[23234,600,0,610,0,"IMAGE"],[23235,501,0,600,0,"IMAGE"]],"groups":[{"title":"Code Junk","bounding":[960,1669,330,520],"color":"#444","font_size":24,"locked":false}],"config":{},"extra":{"workspace_info":{"id":"31512716-84c7-4d23-9f96-2c043435338b"},"ds":{"scale":1.4122927695244514,"offset":[177.09882029877667,-754.3137135942295]}},"version":0.4}