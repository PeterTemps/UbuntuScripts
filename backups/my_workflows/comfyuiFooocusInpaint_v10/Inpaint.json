{"last_node_id":302,"last_link_id":1031,"nodes":[{"id":14,"type":"Yoloworld_ModelLoader_Zho","pos":[80,130],"size":{"0":320,"1":60},"flags":{},"order":0,"mode":2,"outputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","links":[2],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Yoloworld_ModelLoader_Zho"},"widgets_values":["yolo_world/l"]},{"id":148,"type":"InpaintStitch","pos":[2660,1480],"size":{"0":320,"1":80},"flags":{},"order":55,"mode":0,"inputs":[{"name":"stitch","type":"STITCH","link":406,"slot_index":0},{"name":"inpainted_image","type":"IMAGE","link":1031,"slot_index":1}],"outputs":[{"name":"image","type":"IMAGE","links":[410],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InpaintStitch"},"widgets_values":["bislerp"]},{"id":17,"type":"ESAM_ModelLoader_Zho","pos":[80,240],"size":{"0":320,"1":60},"flags":{},"order":1,"mode":2,"outputs":[{"name":"esam_model","type":"ESAMMODEL","links":[3],"shape":3}],"properties":{"Node name for S&R":"ESAM_ModelLoader_Zho"},"widgets_values":["CUDA"]},{"id":36,"type":"Reroute (rgthree)","pos":{"0":470,"1":350,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":22,"mode":2,"inputs":[{"name":"","type":"*","link":625,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34,852],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":132,"type":"Reroute (rgthree)","pos":{"0":3010,"1":1480,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":56,"mode":0,"inputs":[{"name":"","type":"*","link":410,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"image","type":"IMAGE","links":[326,652],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":32,"type":"SaveImage","pos":[3110,1790],"size":{"0":320,"1":280},"flags":{"collapsed":true},"order":57,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":326}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"]},{"id":217,"type":"Reroute (rgthree)","pos":{"0":600,"1":720,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":23,"mode":2,"inputs":[{"name":"","type":"*","link":854,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[949],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":214,"type":"Reroute (rgthree)","pos":{"0":600,"1":840,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":29,"mode":2,"inputs":[{"name":"","type":"*","link":852,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[610],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":179,"type":"ImageSender","pos":[1430,130],"size":{"0":310,"1":300},"flags":{},"order":43,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":947}],"title":"Send Mask","properties":{"Node name for S&R":"ImageSender"},"widgets_values":["ImgSender",1],"color":"#432","bgcolor":"#653"},{"id":124,"type":"Reroute (rgthree)","pos":{"0":1200,"1":840,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":38,"mode":2,"inputs":[{"name":"","type":"*","link":610,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[452,729],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":242,"type":"WD14Tagger|pysssss","pos":[1430,530],"size":{"0":320,"1":220},"flags":{},"order":45,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":729}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,true,true,""]},{"id":241,"type":"Note","pos":[600,130],"size":{"0":305.1537170410156,"1":110.92707824707031},"flags":{},"order":2,"mode":2,"properties":{"text":""},"widgets_values":["Yoloworld segmentation results improve if a trailing comma is added.\n\nBe wary that due to its implementation the node will throw an error if written category subjects are not found within the given image when mask_combined is false. "],"color":"#332922","bgcolor":"#593930"},{"id":273,"type":"workflow/Composite Mask to Image","pos":[980,700],"size":{"0":260,"1":120},"flags":{},"order":37,"mode":2,"inputs":[{"name":"base_mask","type":"MASK","link":948},{"name":"composite_mask_1","type":"MASK","link":949},{"name":"composite_mask_2","type":"MASK","link":950}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[947],"shape":3}],"properties":{"Node name for S&R":"workflow/Composite Mask to Image"},"widgets_values":[0,0,"add",0,0,"subtract"]},{"id":26,"type":"INPAINT_ApplyFooocusInpaint","pos":[2040,1410],"size":{"0":180,"1":70},"flags":{},"order":49,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1012,"slot_index":0},{"name":"patch","type":"INPAINT_PATCH","link":12},{"name":"latent","type":"LATENT","link":460,"slot_index":2}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1025],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"INPAINT_ApplyFooocusInpaint"}},{"id":24,"type":"SelfAttentionGuidance","pos":[820,1390],"size":{"0":210,"1":80},"flags":{},"order":30,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1013}],"outputs":[{"name":"MODEL","type":"MODEL","links":[10],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SelfAttentionGuidance"},"widgets_values":[0.5,2]},{"id":177,"type":"Image Comparer (rgthree)","pos":{"0":3110,"1":1460,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":310,"1":270},"flags":{},"order":58,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":443,"dir":3},{"name":"image_b","type":"IMAGE","link":652,"dir":3}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[[{"name":"A","selected":true,"url":"/view?filename=rgthree.compare._temp_fnvsj_00003_.png&type=temp&subfolder=&rand=0.5781643280950204"},{"name":"B","selected":true,"url":"/view?filename=rgthree.compare._temp_fnvsj_00004_.png&type=temp&subfolder=&rand=0.6783607877242387"}]]},{"id":134,"type":"ImageReceiver","pos":[2800,1420],"size":{"0":320,"1":200},"flags":{"collapsed":true},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[443],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Receive Base Image","properties":{"Node name for S&R":"ImageReceiver"},"widgets_values":["ImgSender_temp_dmxfp_00001_.png [temp]",0,false,"[IMAGE DATA]",false],"color":"#323","bgcolor":"#535"},{"id":60,"type":"Reroute (rgthree)","pos":{"0":2010,"1":1560,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":462,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"latent_samples","type":"LATENT","links":[1028],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":52,"type":"Reroute (rgthree)","pos":{"0":2010,"1":1580,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":1015,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[1030],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":176,"type":"ImageAndMaskPreview","pos":[1640,1710],"size":{"0":300,"1":340},"flags":{},"order":42,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":441},{"name":"mask","type":"MASK","link":442}],"outputs":[{"name":"composite","type":"IMAGE","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageAndMaskPreview"},"widgets_values":[0.5,"255, 255, 255",false]},{"id":143,"type":"Reroute (rgthree)","pos":{"0":1900,"1":1630,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":51,"mode":0,"inputs":[{"name":"","type":"*","link":396,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[1015],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":13,"type":"INPAINT_LoadFooocusInpaint","pos":[1760,1460],"size":{"0":270,"1":290},"flags":{"collapsed":true},"order":5,"mode":0,"outputs":[{"name":"INPAINT_PATCH","type":"INPAINT_PATCH","links":[12],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"INPAINT_LoadFooocusInpaint"},"widgets_values":["fooocus_inpaint_head.pth","inpaint_v26.fooocus.patch"]},{"id":25,"type":"DifferentialDiffusion","pos":[1750,1390],"size":{"0":180,"1":30},"flags":{"collapsed":false},"order":39,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":10}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1012],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DifferentialDiffusion"}},{"id":160,"type":"Reroute (rgthree)","pos":{"0":1640,"1":1320,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":629,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"stitch","type":"STITCH","links":[405],"dir":4,"has_old_label":true,"label":" "}],"properties":{"resizable":false,"size":[40,30]}},{"id":161,"type":"Reroute (rgthree)","pos":{"0":2580,"1":1320,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":405,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"stitch","type":"STITCH","links":[406],"dir":4,"has_old_label":true,"label":" "}],"properties":{"resizable":false,"size":[40,30]}},{"id":183,"type":"INPAINT_VAEEncodeInpaintConditioning","pos":[1640,1520],"size":{"0":300,"1":110},"flags":{},"order":47,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":998,"slot_index":0},{"name":"negative","type":"CONDITIONING","link":999,"slot_index":1},{"name":"vae","type":"VAE","link":1016},{"name":"pixels","type":"IMAGE","link":1009},{"name":"mask","type":"MASK","link":1007}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1026],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1027],"shape":3,"slot_index":1},{"name":"latent_inpaint","type":"LATENT","links":[460],"shape":3,"slot_index":2},{"name":"latent_samples","type":"LATENT","links":[462],"shape":3,"slot_index":3}],"properties":{"Node name for S&R":"INPAINT_VAEEncodeInpaintConditioning"}},{"id":153,"type":"Reroute (rgthree)","pos":{"0":1640,"1":1630,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":48,"mode":0,"inputs":[{"name":"","type":"*","link":1017,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[396],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":152,"type":"Reroute (rgthree)","pos":{"0":1510,"1":1560,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":1010,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"VAE","type":"VAE","links":[1016,1017],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":285,"type":"Reroute (rgthree)","pos":{"0":1190,"1":1560,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":1014,"dir":3,"has_old_label":true,"label":" "}],"outputs":[{"name":"VAE","type":"VAE","links":[1010],"dir":4,"has_old_label":true,"label":" "}],"properties":{"resizable":false,"size":[40,30]}},{"id":154,"type":"Reroute (rgthree)","pos":{"0":1530,"1":1710,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":633,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"cropped_image","type":"IMAGE","links":[441,1009],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":155,"type":"Reroute (rgthree)","pos":{"0":1530,"1":1730,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":1011,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"cropped_mask","type":"MASK","links":[442,1007],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":284,"type":"Reroute (rgthree)","pos":{"0":1070,"1":1730,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":958,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"VAE","type":"VAE","links":[1014],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":283,"type":"Reroute (rgthree)","pos":{"0":430,"1":1730,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":957,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"VAE","type":"VAE","links":[958],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":277,"type":"Power Lora Loader (rgthree)","pos":{"0":430,"1":1520,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":320,"1":190},"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":951,"dir":3,"slot_index":0},{"name":"clip","type":"CLIP","link":952,"dir":3,"slot_index":1}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1013],"shape":3,"dir":4},{"name":"CLIP","type":"CLIP","links":[1000,1001],"shape":3,"dir":4}],"properties":{"Show Strengths":"Single Strength"},"widgets_values":[null,{"type":"PowerLoraLoaderHeaderWidget"},null,""]},{"id":136,"type":"Bookmark (rgthree)","pos":{"0":-10,"1":1190,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"Inpaint Bookmark","properties":{},"widgets_values":["2",0.48]},{"id":236,"type":"Note","pos":[2300,1840],"size":{"0":314.7358703613281,"1":62.54795455932617},"flags":{},"order":7,"mode":0,"properties":{"text":""},"widgets_values":["Because we're not using the VAE Encode (for Inpainting) Node the denoise value does work to modulate the strength of our inpaint."],"color":"#332922","bgcolor":"#593930"},{"id":287,"type":"Note","pos":[-488,169],"size":{"0":240,"1":190},"flags":{},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["Workflow is done in 2 processes with only one active for queuing at a given time.\n\nIf you prefer running the entire workflow all in one go you can either directly connect Mask group outputs to Inpaint group inputs (yellow/purple nodes respectively) or use KJNodes set/get nodes in place of receiver/sender nodes."],"color":"#332922","bgcolor":"#593930"},{"id":216,"type":"Reroute (rgthree)","pos":{"0":610,"1":740,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[40,30],"flags":{},"order":21,"mode":2,"inputs":[{"name":"","type":"*","link":626,"dir":3,"has_old_label":true,"label":" ","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[950],"dir":4,"has_old_label":true,"label":" ","slot_index":0}],"properties":{"resizable":false,"size":[40,30]}},{"id":99,"type":"ImageReceiver","pos":[940,1810],"size":{"0":320,"1":200},"flags":{"collapsed":true},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[627,1021],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"title":"Receive Base Image","properties":{"Node name for S&R":"ImageReceiver"},"widgets_values":["ImgSender_temp_dmxfp_00001_.png [temp]",0,false,"[IMAGE DATA]",false],"color":"#323","bgcolor":"#535"},{"id":94,"type":"ImageToMask","pos":[930,1850],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":158}],"outputs":[{"name":"MASK","type":"MASK","links":[666,1023],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":182,"type":"Note","pos":[970,1890],"size":{"0":210,"1":63.57394790649414},"flags":{},"order":10,"mode":0,"properties":{"text":""},"widgets_values":["Inpaint Crop and Inpaint Stitch can be bypassed if desired, but not recommended."],"color":"#332922","bgcolor":"#593930"},{"id":296,"type":"PreviewImage","pos":[180,1820],"size":{"0":210,"1":250},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1019}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":298,"type":"PreviewImage","pos":[400,1820],"size":{"0":210,"1":250},"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1021}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":88,"type":"ImageReceiver","pos":[780,1850],"size":{"0":320,"1":200},"flags":{"collapsed":true},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[158,1019],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"title":"Receive Mask","properties":{"Node name for S&R":"ImageReceiver"},"widgets_values":["ImgSender_temp_oztpo_00001_.png [temp]",1,false,"[IMAGE DATA]",false],"color":"#323","bgcolor":"#535"},{"id":86,"type":"ImageSender","pos":[1460,790],"size":{"0":320,"1":290},"flags":{"collapsed":false},"order":44,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":452}],"title":"Send Base Image","properties":{"Node name for S&R":"ImageSender"},"widgets_values":["ImgSender",0],"color":"#432","bgcolor":"#653"},{"id":218,"type":"LoadImage","pos":[110,880],"size":[210,310],"flags":{},"order":12,"mode":2,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3},{"name":"MASK","type":"MASK","links":[626],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["hm_croptop_green.jpeg","image"]},{"id":140,"type":"LoadImage","pos":[60,340],"size":{"0":360,"1":490},"flags":{},"order":13,"mode":2,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[625],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[854],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["12_111_sq.png.jpg","image"]},{"id":300,"type":"MaskPreview+","pos":[620,1820],"size":{"0":160,"1":250},"flags":{},"order":27,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1023}],"properties":{"Node name for S&R":"MaskPreview+"}},{"id":219,"type":"InpaintCrop","pos":[1190,1690],"size":{"0":300,"1":310},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":627,"slot_index":0},{"name":"mask","type":"MASK","link":666,"slot_index":1},{"name":"optional_context_mask","type":"MASK","link":null}],"outputs":[{"name":"stitch","type":"STITCH","links":[629],"shape":3,"slot_index":0},{"name":"cropped_image","type":"IMAGE","links":[633],"shape":3,"slot_index":1},{"name":"cropped_mask","type":"MASK","links":[1011],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"InpaintCrop"},"widgets_values":[0,1.5,false,16,false,16,"bicubic","forced size",1024,1024,1,1024,1024,1536,1536,32]},{"id":135,"type":"Bookmark (rgthree)","pos":{"0":-10,"1":-20,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[],"outputs":[],"title":"Mask Bookmark","properties":{},"widgets_values":["1",0.75]},{"id":15,"type":"Yoloworld_ESAM_Zho","pos":[600,310],"size":{"0":300,"1":380},"flags":{},"order":28,"mode":2,"inputs":[{"name":"yolo_world_model","type":"YOLOWORLDMODEL","link":2},{"name":"esam_model","type":"ESAMMODEL","link":3,"slot_index":1},{"name":"image","type":"IMAGE","link":34,"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[871],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[948],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"Yoloworld_ESAM_Zho"},"widgets_values":["woman,hair, head,clothes,",0.1,0.1,2,2,1,true,false,true,true,false,0]},{"id":57,"type":"Fast Groups Muter (rgthree)","pos":{"0":-250,"1":50,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":230,"1":80},"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"title":"Main Processes","properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"max one"}},{"id":276,"type":"CheckpointLoaderSimple","pos":[60,1520],"size":{"0":320,"1":100},"flags":{},"order":16,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[951],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[952],"shape":3},{"name":"VAE","type":"VAE","links":[957],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDXL/copaxTimelessxlSDXL1_v122.safetensors"]},{"id":243,"type":"PreviewImage","pos":[980,130],"size":{"0":410,"1":460},"flags":{},"order":36,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":871}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":181,"type":"Note","pos":[1040,580],"size":[280,130],"flags":{},"order":17,"mode":2,"properties":{"text":""},"widgets_values":["Can use mask editor to manually adjust segmentation results from Yoloworld if the need arises. Note that composite masks will be applied to every yolo mask when mask_combined and mask_extracted are both false. Workflow mainly intended to focus on one subject at a time anyways."],"color":"#332922","bgcolor":"#593930"},{"id":280,"type":"workflow/Combined Prompt","pos":[820,1520],"size":{"0":290,"1":200},"flags":{},"order":31,"mode":0,"inputs":[{"name":"positive_clip","type":"CLIP","link":1000},{"name":"negative_clip","type":"CLIP","link":1001}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[998],"shape":3},{"name":"negative","type":"CONDITIONING","links":[999],"shape":3}],"properties":{"Node name for S&R":"workflow/Combined Prompt"},"widgets_values":["photo of a sexy young woman wearing black crop top and pink shorts, very detailed, 4k, high quality, 8K","low quality, blurry, pixelated, drawing, cartoon, 3D render, ugly, lowres, "]},{"id":301,"type":"KSampler","pos":[2300,1500],"size":{"0":320,"1":260},"flags":{},"order":52,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1025},{"name":"positive","type":"CONDITIONING","link":1026,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":1027,"slot_index":2},{"name":"latent_image","type":"LATENT","link":1028},{"name":"seed","type":"INT","link":1029,"widget":{"name":"seed"},"slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1024],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[414624355408921,"fixed",50,7,"dpmpp_2m_sde_gpu","karras",1]},{"id":302,"type":"VAEDecode","pos":[2669,1725],"size":{"0":210,"1":50},"flags":{},"order":54,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1024},{"name":"vae","type":"VAE","link":1030}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1031],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":169,"type":"Seed (rgthree)","pos":{"0":2010,"1":1710,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":210,"1":130},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"SEED","type":"INT","links":[1029],"shape":3,"dir":4,"slot_index":0}],"properties":{},"widgets_values":[-1,null,null,null]}],"links":[[2,14,0,15,0,"YOLOWORLDMODEL"],[3,17,0,15,1,"ESAMMODEL"],[10,24,0,25,0,"MODEL"],[12,13,0,26,1,"INPAINT_PATCH"],[34,36,0,15,2,"IMAGE"],[158,88,0,94,0,"IMAGE"],[326,132,0,32,0,"IMAGE"],[396,153,0,143,0,"*"],[405,160,0,161,0,"*"],[406,161,0,148,0,"STITCH"],[410,148,0,132,0,"*"],[441,154,0,176,0,"IMAGE"],[442,155,0,176,1,"MASK"],[443,134,0,177,0,"IMAGE"],[452,124,0,86,0,"IMAGE"],[460,183,2,26,2,"LATENT"],[462,183,3,60,0,"*"],[610,214,0,124,0,"*"],[625,140,0,36,0,"*"],[626,218,1,216,0,"*"],[627,99,0,219,0,"IMAGE"],[629,219,0,160,0,"*"],[633,219,1,154,0,"*"],[652,132,0,177,1,"IMAGE"],[666,94,0,219,1,"MASK"],[729,124,0,242,0,"IMAGE"],[852,36,0,214,0,"*"],[854,140,1,217,0,"*"],[871,15,0,243,0,"IMAGE"],[947,273,0,179,0,"IMAGE"],[948,15,1,273,0,"MASK"],[949,217,0,273,1,"MASK"],[950,216,0,273,2,"MASK"],[951,276,0,277,0,"MODEL"],[952,276,1,277,1,"CLIP"],[957,276,2,283,0,"*"],[958,283,0,284,0,"*"],[998,280,0,183,0,"CONDITIONING"],[999,280,1,183,1,"CONDITIONING"],[1000,277,1,280,0,"CLIP"],[1001,277,1,280,1,"CLIP"],[1007,155,0,183,4,"MASK"],[1009,154,0,183,3,"IMAGE"],[1010,285,0,152,0,"*"],[1011,219,2,155,0,"*"],[1012,25,0,26,0,"MODEL"],[1013,277,0,24,0,"MODEL"],[1014,284,0,285,0,"*"],[1015,143,0,52,0,"*"],[1016,152,0,183,2,"VAE"],[1017,152,0,153,0,"*"],[1019,88,0,296,0,"IMAGE"],[1021,99,0,298,0,"IMAGE"],[1023,94,0,300,0,"MASK"],[1024,301,0,302,0,"LATENT"],[1025,26,0,301,0,"MODEL"],[1026,183,0,301,1,"CONDITIONING"],[1027,183,1,301,2,"CONDITIONING"],[1028,60,0,301,3,"LATENT"],[1029,169,0,301,4,"INT"],[1030,52,0,302,1,"VAE"],[1031,302,0,148,1,"IMAGE"]],"groups":[{"title":"Mask","bounding":[50,60,1740,1144],"color":"#88A","font_size":24,"locked":false},{"title":"Inpaint","bounding":[-10,1240,3499,838],"color":"#8AA","font_size":24,"locked":false}],"config":{},"extra":{"groupNodes":{"KSampler with Decoder":{"nodes":[{"type":"KSampler","pos":[2350,1825],"size":{"0":315,"1":262},"flags":{},"order":45,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null},{"name":"positive","type":"CONDITIONING","link":null,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":null,"slot_index":2},{"name":"latent_image","type":"LATENT","link":null},{"name":"seed","type":"INT","link":null,"widget":{"name":"seed"},"slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[414624355408921,"fixed",30,10,"dpmpp_2m_sde_gpu","karras",1],"index":0},{"type":"VAEDecode","pos":[2719,2050],"size":{"0":210,"1":46},"flags":{},"order":46,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":null},{"name":"vae","type":"VAE","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"index":1}],"links":[[null,0,0,0,26,"MODEL"],[null,2,0,1,131,"CONDITIONING"],[null,3,0,2,131,"CONDITIONING"],[null,0,0,3,60,"LATENT"],[null,0,0,4,169,"INT"],[0,0,1,0,167,"LATENT"],[null,0,1,1,52,"VAE"]],"external":[[1,0,"IMAGE"]]},"Composite Mask to Image":{"nodes":[{"type":"Note","pos":[1505,1222],"size":{"0":315.4535217285156,"1":76.63378143310547},"flags":{},"order":16,"mode":0,"properties":{"text":""},"widgets_values":["The extra mask list node is necessary to deal with an edge case where mask composite fails if manual masks are empty while the yolo mask is not and mask_combined and mask_extracted are both false."],"color":"#332922","bgcolor":"#593930","index":0},{"type":"MasksToMaskList","pos":[1236,1041],"size":{"0":210,"1":26},"flags":{},"order":33,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":null,"slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"MasksToMaskList"},"index":1},{"type":"MaskComposite","pos":[1505,1041],"size":{"0":315,"1":126},"flags":{},"order":41,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":null,"label":"destination"},{"name":"source","type":"MASK","link":null,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"],"index":2},{"type":"MaskComposite","pos":[1875,1041],"size":{"0":315,"1":338},"flags":{},"order":47,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":null},{"name":"source","type":"MASK","link":null,"label":"source"}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"subtract"],"index":3},{"type":"MaskToImage","pos":[2235,1041],"size":{"0":190.1327667236328,"1":26},"flags":{"collapsed":false},"order":49,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":null,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"},"index":4}],"links":[[null,1,1,0,15,"MASK"],[1,0,2,0,271,"MASK"],[null,0,2,1,217,"MASK"],[2,0,3,0,264,"MASK"],[null,0,3,1,216,"MASK"],[3,0,4,0,266,"MASK"]],"external":[[4,0,"IMAGE"]],"config":{"1":{"input":{"masks":{"name":"base_mask"}}},"2":{"input":{"source":{"name":"composite_mask_1"},"operation":{"name":"composite_mode_1"},"y":{"visible":false},"x":{"visible":false}}},"3":{"input":{"source":{"name":"composite_mask_2"},"x":{"name":"u","visible":false},"y":{"name":"v","visible":false},"operation":{"name":"composite_mode_2"}}}}},"Combined Prompt":{"nodes":[{"type":"CLIPTextEncode","pos":[-18,1457],"size":{"0":400,"1":200},"flags":{},"order":30,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":null,"shape":3}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"index":0},{"type":"CLIPTextEncode","pos":[-17,1701],"size":{"0":400,"1":200},"flags":{},"order":31,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":null,"shape":3}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"index":1}],"links":[[null,1,0,0,277,"CLIP"],[null,1,1,0,277,"CLIP"]],"external":[],"config":{"0":{"input":{"clip":{"name":"positive_clip"},"text":{"name":"positive text"}},"output":{"0":{"name":"positive"}}},"1":{"input":{"clip":{"name":"negative_clip"},"text":{"name":"negative text"}},"output":{"0":{"name":"negative"}}}}}},"ds":{"scale":0.7972024500000006,"offset":[-2084.6877880180864,-954.5583727984448]},"workspace_info":{"id":"28d0d47f-326e-41cc-b3a8-0ebdcf5c3a4d","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}